/*!
 * 
 *   @dronesitter/bf-blackbox-parser v1.0.0
 *   https://github.com/dronesitter/bf-blackbox-parser
 *
 *   Copyright (c) dronesitter (https://github.com/dronesitter) and project contributors.
 *
 *   This source code is licensed under the GPL 3.0 license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DataParserPlugin=t():e.DataParserPlugin=t()}(self,(()=>(()=>{var e={625:(e,t)=>{var r;t=e.exports=d,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var a=Number.MAX_SAFE_INTEGER||9007199254740991,n=t.re=[],i=t.src=[],s=t.tokens={},o=0;function l(e){s[e]=o++}l("NUMERICIDENTIFIER"),i[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),i[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),i[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),i[s.MAINVERSION]="("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")\\.("+i[s.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),i[s.MAINVERSIONLOOSE]="("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")\\.("+i[s.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),i[s.PRERELEASEIDENTIFIER]="(?:"+i[s.NUMERICIDENTIFIER]+"|"+i[s.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),i[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+i[s.NUMERICIDENTIFIERLOOSE]+"|"+i[s.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),i[s.PRERELEASE]="(?:-("+i[s.PRERELEASEIDENTIFIER]+"(?:\\."+i[s.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),i[s.PRERELEASELOOSE]="(?:-?("+i[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+i[s.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),i[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),i[s.BUILD]="(?:\\+("+i[s.BUILDIDENTIFIER]+"(?:\\."+i[s.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),i[s.FULLPLAIN]="v?"+i[s.MAINVERSION]+i[s.PRERELEASE]+"?"+i[s.BUILD]+"?",i[s.FULL]="^"+i[s.FULLPLAIN]+"$",l("LOOSEPLAIN"),i[s.LOOSEPLAIN]="[v=\\s]*"+i[s.MAINVERSIONLOOSE]+i[s.PRERELEASELOOSE]+"?"+i[s.BUILD]+"?",l("LOOSE"),i[s.LOOSE]="^"+i[s.LOOSEPLAIN]+"$",l("GTLT"),i[s.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),i[s.XRANGEIDENTIFIERLOOSE]=i[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),i[s.XRANGEIDENTIFIER]=i[s.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),i[s.XRANGEPLAIN]="[v=\\s]*("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:\\.("+i[s.XRANGEIDENTIFIER]+")(?:"+i[s.PRERELEASE]+")?"+i[s.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),i[s.XRANGEPLAINLOOSE]="[v=\\s]*("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+i[s.XRANGEIDENTIFIERLOOSE]+")(?:"+i[s.PRERELEASELOOSE]+")?"+i[s.BUILD]+"?)?)?",l("XRANGE"),i[s.XRANGE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAIN]+"$",l("XRANGELOOSE"),i[s.XRANGELOOSE]="^"+i[s.GTLT]+"\\s*"+i[s.XRANGEPLAINLOOSE]+"$",l("COERCE"),i[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),n[s.COERCERTL]=new RegExp(i[s.COERCE],"g"),l("LONETILDE"),i[s.LONETILDE]="(?:~>?)",l("TILDETRIM"),i[s.TILDETRIM]="(\\s*)"+i[s.LONETILDE]+"\\s+",n[s.TILDETRIM]=new RegExp(i[s.TILDETRIM],"g");l("TILDE"),i[s.TILDE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAIN]+"$",l("TILDELOOSE"),i[s.TILDELOOSE]="^"+i[s.LONETILDE]+i[s.XRANGEPLAINLOOSE]+"$",l("LONECARET"),i[s.LONECARET]="(?:\\^)",l("CARETTRIM"),i[s.CARETTRIM]="(\\s*)"+i[s.LONECARET]+"\\s+",n[s.CARETTRIM]=new RegExp(i[s.CARETTRIM],"g");l("CARET"),i[s.CARET]="^"+i[s.LONECARET]+i[s.XRANGEPLAIN]+"$",l("CARETLOOSE"),i[s.CARETLOOSE]="^"+i[s.LONECARET]+i[s.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),i[s.COMPARATORLOOSE]="^"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),i[s.COMPARATOR]="^"+i[s.GTLT]+"\\s*("+i[s.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),i[s.COMPARATORTRIM]="(\\s*)"+i[s.GTLT]+"\\s*("+i[s.LOOSEPLAIN]+"|"+i[s.XRANGEPLAIN]+")",n[s.COMPARATORTRIM]=new RegExp(i[s.COMPARATORTRIM],"g");l("HYPHENRANGE"),i[s.HYPHENRANGE]="^\\s*("+i[s.XRANGEPLAIN]+")\\s+-\\s+("+i[s.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),i[s.HYPHENRANGELOOSE]="^\\s*("+i[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+i[s.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),i[s.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<o;u++)r(u,i[u]),n[u]||(n[u]=new RegExp(i[u]));function c(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?n[s.LOOSE]:n[s.FULL]).test(e))return null;try{return new d(e,t)}catch(e){return null}}function d(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof d){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof d))return new d(e,t);r("SemVer",e,t),this.options=t,this.loose=!!t.loose;var i=e.trim().match(t.loose?n[s.LOOSE]:n[s.FULL]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}t.parse=c,t.valid=function(e,t){var r=c(e,t);return r?r.version:null},t.clean=function(e,t){var r=c(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=d,d.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},d.prototype.toString=function(){return this.version},d.prototype.compare=function(e){return r("SemVer.compare",this.version,this.options,e),e instanceof d||(e=new d(e,this.options)),this.compareMain(e)||this.comparePre(e)},d.prototype.compareMain=function(e){return e instanceof d||(e=new d(e,this.options)),h(this.major,e.major)||h(this.minor,e.minor)||h(this.patch,e.patch)},d.prototype.comparePre=function(e){if(e instanceof d||(e=new d(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var a=this.prerelease[t],n=e.prerelease[t];if(r("prerelease compare",t,a,n),void 0===a&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(a!==n)return h(a,n)}while(++t)},d.prototype.compareBuild=function(e){e instanceof d||(e=new d(e,this.options));var t=0;do{var a=this.build[t],n=e.build[t];if(r("prerelease compare",t,a,n),void 0===a&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===a)return-1;if(a!==n)return h(a,n)}while(++t)},d.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,a){"string"==typeof r&&(a=r,r=void 0);try{return new d(e,r).inc(t,a).version}catch(e){return null}},t.diff=function(e,t){if(y(e,t))return null;var r=c(e),a=c(t),n="";if(r.prerelease.length||a.prerelease.length){n="pre";var i="prerelease"}for(var s in r)if(("major"===s||"minor"===s||"patch"===s)&&r[s]!==a[s])return n+s;return i},t.compareIdentifiers=h;var f=/^[0-9]+$/;function h(e,t){var r=f.test(e),a=f.test(t);return r&&a&&(e=+e,t=+t),e===t?0:r&&!a?-1:a&&!r?1:e<t?-1:1}function m(e,t,r){return new d(e,r).compare(new d(t,r))}function g(e,t,r){return m(e,t,r)>0}function p(e,t,r){return m(e,t,r)<0}function y(e,t,r){return 0===m(e,t,r)}function R(e,t,r){return 0!==m(e,t,r)}function E(e,t,r){return m(e,t,r)>=0}function _(e,t,r){return m(e,t,r)<=0}function I(e,t,r,a){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return y(e,r,a);case"!=":return R(e,r,a);case">":return g(e,r,a);case">=":return E(e,r,a);case"<":return p(e,r,a);case"<=":return _(e,r,a);default:throw new TypeError("Invalid operator: "+t)}}function b(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof b){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof b))return new b(e,t);r("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===v?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}t.rcompareIdentifiers=function(e,t){return h(t,e)},t.major=function(e,t){return new d(e,t).major},t.minor=function(e,t){return new d(e,t).minor},t.patch=function(e,t){return new d(e,t).patch},t.compare=m,t.compareLoose=function(e,t){return m(e,t,!0)},t.compareBuild=function(e,t,r){var a=new d(e,r),n=new d(t,r);return a.compare(n)||a.compareBuild(n)},t.rcompare=function(e,t,r){return m(t,e,r)},t.sort=function(e,r){return e.sort((function(e,a){return t.compareBuild(e,a,r)}))},t.rsort=function(e,r){return e.sort((function(e,a){return t.compareBuild(a,e,r)}))},t.gt=g,t.lt=p,t.eq=y,t.neq=R,t.gte=E,t.lte=_,t.cmp=I,t.Comparator=b;var v={};function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new S(e.raw,t);if(e instanceof b)return new S(e.value,t);if(!(this instanceof S))return new S(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function T(e,t){for(var r=!0,a=e.slice(),n=a.pop();r&&a.length;)r=a.every((function(e){return n.intersects(e,t)})),n=a.pop();return r}function C(e){return!e||"x"===e.toLowerCase()||"*"===e}function O(e,t,r,a,n,i,s,o,l,u,c,d,f){return((t=C(r)?"":C(a)?">="+r+".0.0":C(n)?">="+r+"."+a+".0":">="+t)+" "+(o=C(l)?"":C(u)?"<"+(+l+1)+".0.0":C(c)?"<"+l+"."+(+u+1)+".0":d?"<="+l+"."+u+"."+c+"-"+d:"<="+o)).trim()}function A(e,t,a){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!a.includePrerelease){for(n=0;n<e.length;n++)if(r(e[n].semver),e[n].semver!==v&&e[n].semver.prerelease.length>0){var i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function D(e,t,r){try{t=new S(t,r)}catch(e){return!1}return t.test(e)}function F(e,t,r,a){var n,i,s,o,l;switch(e=new d(e,a),t=new S(t,a),r){case">":n=g,i=_,s=p,o=">",l=">=";break;case"<":n=p,i=E,s=g,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(D(e,t,a))return!1;for(var u=0;u<t.set.length;++u){var c=t.set[u],f=null,h=null;if(c.forEach((function(e){e.semver===v&&(e=new b(">=0.0.0")),f=f||e,h=h||e,n(e.semver,f.semver,a)?f=e:s(e.semver,h.semver,a)&&(h=e)})),f.operator===o||f.operator===l)return!1;if((!h.operator||h.operator===o)&&i(e,h.semver))return!1;if(h.operator===l&&s(e,h.semver))return!1}return!0}b.prototype.parse=function(e){var t=this.options.loose?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new d(r[2],this.options.loose):this.semver=v},b.prototype.toString=function(){return this.value},b.prototype.test=function(e){if(r("Comparator.test",e,this.options.loose),this.semver===v||e===v)return!0;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}return I(e,this.operator,this.semver,this.options)},b.prototype.intersects=function(e,t){if(!(e instanceof b))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new S(e.value,t),D(this.value,r,t));if(""===e.operator)return""===e.value||(r=new S(this.value,t),D(e.semver,r,t));var a=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=I(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=I(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return a||n||i&&s||o||l},t.Range=S,S.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},S.prototype.toString=function(){return this.range},S.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var a=t?n[s.HYPHENRANGELOOSE]:n[s.HYPHENRANGE];e=e.replace(a,O),r("hyphen replace",e),e=e.replace(n[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",e,n[s.COMPARATORTRIM]),e=(e=(e=e.replace(n[s.TILDETRIM],"$1~")).replace(n[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var i=t?n[s.COMPARATORLOOSE]:n[s.COMPARATOR],o=e.split(" ").map((function(e){return function(e,t){return r("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){r("caret",e,t);var a=t.loose?n[s.CARETLOOSE]:n[s.CARET];return e.replace(a,(function(t,a,n,i,s){var o;return r("caret",e,t,a,n,i,s),C(a)?o="":C(n)?o=">="+a+".0.0 <"+(+a+1)+".0.0":C(i)?o="0"===a?">="+a+"."+n+".0 <"+a+"."+(+n+1)+".0":">="+a+"."+n+".0 <"+(+a+1)+".0.0":s?(r("replaceCaret pr",s),o="0"===a?"0"===n?">="+a+"."+n+"."+i+"-"+s+" <"+a+"."+n+"."+(+i+1):">="+a+"."+n+"."+i+"-"+s+" <"+a+"."+(+n+1)+".0":">="+a+"."+n+"."+i+"-"+s+" <"+(+a+1)+".0.0"):(r("no pr"),o="0"===a?"0"===n?">="+a+"."+n+"."+i+" <"+a+"."+n+"."+(+i+1):">="+a+"."+n+"."+i+" <"+a+"."+(+n+1)+".0":">="+a+"."+n+"."+i+" <"+(+a+1)+".0.0"),r("caret return",o),o}))}(e,t)})).join(" ")}(e,t),r("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var a=t.loose?n[s.TILDELOOSE]:n[s.TILDE];return e.replace(a,(function(t,a,n,i,s){var o;return r("tilde",e,t,a,n,i,s),C(a)?o="":C(n)?o=">="+a+".0.0 <"+(+a+1)+".0.0":C(i)?o=">="+a+"."+n+".0 <"+a+"."+(+n+1)+".0":s?(r("replaceTilde pr",s),o=">="+a+"."+n+"."+i+"-"+s+" <"+a+"."+(+n+1)+".0"):o=">="+a+"."+n+"."+i+" <"+a+"."+(+n+1)+".0",r("tilde return",o),o}))}(e,t)})).join(" ")}(e,t),r("tildes",e),e=function(e,t){return r("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var a=t.loose?n[s.XRANGELOOSE]:n[s.XRANGE];return e.replace(a,(function(a,n,i,s,o,l){r("xRange",e,a,n,i,s,o,l);var u=C(i),c=u||C(s),d=c||C(o),f=d;return"="===n&&f&&(n=""),l=t.includePrerelease?"-0":"",u?a=">"===n||"<"===n?"<0.0.0-0":"*":n&&f?(c&&(s=0),o=0,">"===n?(n=">=",c?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",c?i=+i+1:s=+s+1),a=n+i+"."+s+"."+o+l):c?a=">="+i+".0.0"+l+" <"+(+i+1)+".0.0"+l:d&&(a=">="+i+"."+s+".0"+l+" <"+i+"."+(+s+1)+".0"+l),r("xRange return",a),a}))}(e,t)})).join(" ")}(e,t),r("xrange",e),e=function(e,t){return r("replaceStars",e,t),e.trim().replace(n[s.STAR],"")}(e,t),r("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(e){return!!e.match(i)}))),o=o.map((function(e){return new b(e,this.options)}),this)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Range is required");return this.set.some((function(r){return T(r,t)&&e.set.some((function(e){return T(e,t)&&r.every((function(r){return e.every((function(e){return r.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new S(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},S.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new d(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1},t.satisfies=D,t.maxSatisfying=function(e,t,r){var a=null,n=null;try{var i=new S(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(a&&-1!==n.compare(e)||(n=new d(a=e,r)))})),a},t.minSatisfying=function(e,t,r){var a=null,n=null;try{var i=new S(t,r)}catch(e){return null}return e.forEach((function(e){i.test(e)&&(a&&1!==n.compare(e)||(n=new d(a=e,r)))})),a},t.minVersion=function(e,t){e=new S(e,t);var r=new d("0.0.0");if(e.test(r))return r;if(r=new d("0.0.0-0"),e.test(r))return r;r=null;for(var a=0;a<e.set.length;++a){e.set[a].forEach((function(e){var t=new d(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!g(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}))}if(r&&e.test(r))return r;return null},t.validRange=function(e,t){try{return new S(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return F(e,t,"<",r)},t.gtr=function(e,t,r){return F(e,t,">",r)},t.outside=F,t.prerelease=function(e,t){var r=c(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new S(e,r),t=new S(t,r),e.intersects(t)},t.coerce=function(e,t){if(e instanceof d)return e;"number"==typeof e&&(e=String(e));if("string"!=typeof e)return null;var r=null;if((t=t||{}).rtl){for(var a;(a=n[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&a.index+a[0].length===r.index+r[0].length||(r=a),n[s.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;n[s.COERCERTL].lastIndex=-1}else r=e.match(n[s.COERCE]);if(null===r)return null;return c(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),t)}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{"use strict";r.r(a);var e=r(625);function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=-1,o="\n".charCodeAt(0),l=(":".charCodeAt(0),function(){function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t(this,e),this.data=r,this.start=a,this.end=n,i(this,"eof",void 0),i(this,"pos",void 0),i(this,"readU8",e.prototype.readByte),this.data=r,this.start=a,this.end=n||r.length,this.eof=!1,this.pos=a}var r,a,l;return r=e,(a=[{key:"readChar",value:function(){return this.pos<this.end?String.fromCharCode(this.data[this.pos++]):(this.eof=!0,s)}},{key:"allIndicesOf",value:function(e){for(var t=[];;){var r=this.nextOffsetOf(e);if(-1==r)return t.push(this.end),t;t.push(r),this.pos=r+e.length}}},{key:"readLine",value:function(){for(var e=this.pos;this.pos<this.end&&!new Set([o,0]).has(this.data[this.pos]);)this.pos+=1;return String.fromCharCode.apply(null,this.data.subarray(e,this.pos))}},{key:"readByte",value:function(){return this.pos<this.end?this.data[this.pos++]:(this.eof=!0,s)}},{key:"readS8",value:function(){return z(this.readByte())}},{key:"unreadChar",value:function(e){this.pos--}},{key:"peekChar",value:function(){return this.pos<this.end?String.fromCharCode(this.data[this.pos]):(this.eof=!0,s)}},{key:"readUnsignedVB",value:function(){var e,t,r=0,a=0;for(e=0;e<5;e++){if((t=this.readByte())==s)return 0;if(a|=(-129&t)<<r,t<128)return a>>>0;r+=7}return 0}},{key:"readSignedVB",value:function(){var e=this.readUnsignedVB();return e>>>1^-(1&e)}},{key:"readString",value:function(e){var t,r=new Array(e);for(t=0;t<e;t++)r[t]=this.readChar();return r.join("")}},{key:"readS16",value:function(){return X(this.readByte()|this.readByte()<<8)}},{key:"readU16",value:function(){return this.readByte()|this.readByte()<<8}},{key:"readU32",value:function(){return this.readByte()|this.readByte()<<8|this.readByte()<<16|this.readByte()<<24}},{key:"nextOffsetOf",value:function(e){var t,r;for(t=this.pos;t<=this.end-e.length;t++)if(this.data[t]==e[0]){for(r=1;r<e.length&&this.data[t+r]==e[r];r++);if(r==e.length)return t}return-1}},{key:"readTag2_3S32",value:function(e){var t,r,a,n,i,s;switch((t=this.readByte())>>6){case 0:e[0]=Q(t>>4&3),e[1]=Q(t>>2&3),e[2]=Q(3&t);break;case 1:e[0]=q(15&t),t=this.readByte(),e[1]=q(t>>4),e[2]=q(15&t);break;case 2:e[0]=K(63&t),t=this.readByte(),e[1]=K(63&t),t=this.readByte(),e[2]=K(63&t);break;case 3:for(s=0;s<3;s++){switch(3&t){case 0:r=this.readByte(),e[s]=z(r);break;case 1:r=this.readByte(),a=this.readByte(),e[s]=X(r|a<<8);break;case 2:r=this.readByte(),a=this.readByte(),n=this.readByte(),e[s]=V(r|a<<8|n<<16);break;case 3:r=this.readByte(),a=this.readByte(),n=this.readByte(),i=this.readByte(),e[s]=r|a<<8|n<<16|i<<24}t>>=2}}}},{key:"readTag2_3SVariable",value:function(e){var t,r,a,n,i,s,o,l;switch((t=this.readByte())>>6){case 0:e[0]=Q(t>>4&3),e[1]=Q(t>>2&3),e[2]=Q(3&t);break;case 1:e[0]=$((62&t)>>1),r=this.readByte(),e[1]=$((1&t)<<5|(15&r)>>4),e[2]=q(15&r);break;case 2:r=this.readByte(),e[1]=z((63&t)<<2|(192&r)>>6),a=this.readByte(),e[1]=W((63&r)<<1|(128&r)>>7),e[2]=W(127&a);break;case 3:for(l=0;l<3;l++){switch(3&t){case 0:n=this.readByte(),e[l]=z(n);break;case 1:n=this.readByte(),i=this.readByte(),e[l]=X(n|i<<8);break;case 2:n=this.readByte(),i=this.readByte(),s=this.readByte(),e[l]=V(n|i<<8|s<<16);break;case 3:n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),e[l]=n|i<<8|s<<16|o<<24}t>>=2}}}},{key:"readTag8_4S16_v1",value:function(e){var t,r,a,n,i;for(t=this.readByte(),i=0;i<4;i++){switch(3&t){case 0:e[i]=0;break;case 1:r=this.readByte(),e[i]=q(15&r),t>>=2,e[++i]=q(r>>4);break;case 2:e[i]=z(this.readByte());break;case 3:a=this.readByte(),n=this.readByte(),e[i]=X(a|n<<8)}t>>=2}}},{key:"readTag8_4S16_v2",value:function(e){var t,r,a,n,i,s;for(t=this.readByte(),s=0,r=0;r<4;r++){switch(3&t){case 0:e[r]=0;break;case 1:0===s?(i=this.readByte(),e[r]=q(i>>4),s=1):(e[r]=q(15&i),s=0);break;case 2:0===s?e[r]=z(this.readByte()):(a=(15&i)<<4,a|=(i=this.readByte())>>4,e[r]=z(a));break;case 3:0===s?(a=this.readByte(),n=this.readByte(),e[r]=X(a<<8|n)):(a=this.readByte(),n=this.readByte(),e[r]=X((15&i)<<12|a<<4|n>>4),i=n)}t>>=2}}},{key:"readTag8_8SVB",value:function(e,t){var r,a;if(1==t)e[0]=this.readSignedVB();else for(a=this.readByte(),r=0;r<8;r++,a>>=1)e[r]=1&a?this.readSignedVB():0}}])&&n(r.prototype,a),l&&n(r,l),Object.defineProperty(r,"prototype",{writable:!1}),e}());function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c={extend:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var n,i,s,o,l,c,d=1,f=arguments.length,h=!1;for("boolean"==typeof e&&(h=e,e=arguments[d]||{},d++),"object"!==u(e)&&"function"!=typeof e&&(e={});d<f;d++)if(null!=(n=arguments[d]))for(i in n)o=n[i],"__proto__"!==i&&e!==o&&(h&&o&&(this.isPlainObject(o)||(l=Array.isArray(o)))?(s=e[i],c=l&&!Array.isArray(s)?[]:l||this.isPlainObject(s)?s:{},l=!1,e[i]=this.extend(h,c,o)):void 0!==o&&(e[i]=o));return e},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==toString.call(e))&&(!(t=Object.getPrototypeOf(e))||"function"==typeof(r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor)&&Object.toString.call(r)===Object.toString.call(Object))}};function d(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"dataVersion",void 0),f(this,"frameTypes",void 0),f(this,"mainHistoryRing",void 0),f(this,"mainHistory",[null,null,null]),f(this,"mainStreamIsValid",!1),f(this,"lastEvent",void 0),f(this,"lastSlow",void 0),f(this,"lastSkippedFrames",void 0),f(this,"lastMainFrameIteration",void 0),f(this,"lastMainFrameTime",void 0),f(this,"stream",void 0),f(this,"frameDefs",void 0),f(this,"sysConfig",void 0),f(this,"onFrameReady",void 0),f(this,"stats",void 0),f(this,"debugModes",void 0),f(this,"flightLogFlightModeNames",void 0),f(this,"_completeIntraframe",(function(e,t,a){var n=r._currentFrame[g],i=r._currentFrame[p],s=!0;-1!=r.lastMainFrameIteration&&(s=r.lastMainFrameIteration<=n&&n<r.lastMainFrameIteration+b&&r.lastMainFrameTime<=i&&i<r.lastMainFrameTime+I),s?(r.stats.intentionallyAbsentIterations+=r._countIntentionallySkippedFramesTo(n),r.lastMainFrameIteration=n,r.lastMainFrameTime=i,r.mainStreamIsValid=!0,r._updateFieldStats(e,r._currentFrame)):r.invalidateMainStream(),r.onFrameReady&&r.onFrameReady(r.mainStreamIsValid,r._currentFrame,e,t,a-t),r._rotateHistoryBuffers({isIntraFrame:!0})})),f(this,"_parseIntraframe",(function(){r.parseFrame(r.frameDefs.I,r._currentFrame,r._previousFrame,null)})),f(this,"_completeSlowFrame",(function(e,t,a){r._updateFieldStats(e,r.lastSlow),r.onFrameReady&&r.onFrameReady(!0,r.lastSlow,e,t,a-t)})),f(this,"_completeInterframe",(function(e,t,a){var n=r._currentFrame[p],i=r._currentFrame[g];r.mainStreamIsValid&&(n>r.lastMainFrameTime+I||i>r.lastMainFrameIteration+b)&&(r.mainStreamIsValid=!1),r.mainStreamIsValid&&(r.lastMainFrameIteration=i,r.lastMainFrameTime=n,r.stats.intentionallyAbsentIterations+=r.lastSkippedFrames,r._updateFieldStats(e,r._currentFrame)),r.onFrameReady&&r.onFrameReady(r.mainStreamIsValid,r._currentFrame,e,t,a-t),r.mainStreamIsValid&&r._rotateHistoryBuffers({isIntraFrame:!1})})),f(this,"_parseInterframe",(function(){r.lastSkippedFrames=r._countIntentionallySkippedFrames(),r.parseFrame(r.frameDefs.P,r._currentFrame,r._previousFrame,r._prevPreviousFrame,r.lastSkippedFrames)})),f(this,"_parseSlowFrame",(function(){r.frameDefs.S&&r.parseFrame(r.frameDefs.S,r.lastSlow,null,null)})),f(this,"_completeEventFrame",(function(e,t,a){if(!r.lastEvent)return!1;if(r.lastEvent.event===ie.LOGGING_RESUME)r.lastMainFrameIteration=r.lastEvent.data.logIteration,r.lastMainFrameTime=r.lastEvent.data.currentTime;return r.onFrameReady&&r.onFrameReady(!0,r.lastEvent,e,t,a-t),!0})),f(this,"_parseEventFrame",(function(e){var t="End of log\0",a=r.stream.readByte();switch(r.lastEvent={event:a,data:{}},a){case ie.SYNC_BEEP:var n=r.stream.readUnsignedVB();r.lastEvent.data.time=n,r.lastEvent.time=n;break;case ie.FLIGHT_MODE:r.lastEvent.data.newFlags=r.stream.readUnsignedVB(),r.lastEvent.data.lastFlags=r.stream.readUnsignedVB();break;case ie.DISARM:r.lastEvent.data.reason=r.stream.readUnsignedVB();break;case ie.LOGGING_RESUME:r.lastEvent.data.logIteration=r.stream.readUnsignedVB(),r.lastEvent.data.currentTime=r.stream.readUnsignedVB();break;case ie.LOG_END:r.stream.readString(t.length)==t?r.stream.end=r.stream.pos:r.lastEvent=null;break;default:r.lastEvent=null}})),this.onFrameReady=null,this.frameDefs={};var a=c.extend({},y,R);this.sysConfig=Object.create(a),this.frameTypes={I:{marker:"I",parse:this._parseIntraframe,complete:this._completeIntraframe},P:{marker:"P",parse:this._parseInterframe,complete:this._completeInterframe},S:{marker:"S",parse:this._parseSlowFrame,complete:this._completeSlowFrame},E:{marker:"E",parse:this._parseEventFrame,complete:this._completeEventFrame}},this.stream=new l(t)}var t,r,a;return t=e,r=[{key:"_parseHeaderLine",value:function(){var e,t,r,a=this.stream.readLine(),n=a.indexOf(":"),i=a.substring(0,n),s=a.substring(n+1);switch(i=null!==(e=E[i])&&void 0!==e?e:i){case"I interval":this.sysConfig.frameIntervalI=parseInt(s,10),this.sysConfig.frameIntervalI<1&&(this.sysConfig.frameIntervalI=1);break;case"P interval":var o=s.match(/(\d+)\/(\d+)/);o?(this.sysConfig.frameIntervalPNum=parseInt(o[1],10),this.sysConfig.frameIntervalPDenom=parseInt(o[2],10)):(this.sysConfig.frameIntervalPNum=1,this.sysConfig.frameIntervalPDenom=parseInt(s,10));break;case"P denom":case"P ratio":break;case"Data version":this.dataVersion=parseInt(s,10);break;case"Firmware type":this.sysConfig.firmwareType="Cleanflight"===s?2:1;break;case"minthrottle":this.sysConfig[i]=parseInt(s,10),this.sysConfig.motorOutput[0]=this.sysConfig[i];break;case"maxthrottle":this.sysConfig[i]=parseInt(s,10),this.sysConfig.motorOutput[1]=this.sysConfig[i];break;case"rcRate":case"thrMid":case"thrExpo":case"dynThrPID":case"tpa_breakpoint":case"airmode_activate_throttle":case"serialrx_provider":case"looptime":case"gyro_sync_denom":case"pid_process_denom":case"pidController":case"yaw_p_limit":case"dterm_average_count":case"rollPitchItermResetRate":case"yawItermResetRate":case"rollPitchItermIgnoreRate":case"yawItermIgnoreRate":case"dterm_differentiator":case"deltaMethod":case"dynamic_dterm_threshold":case"dynamic_pterm":case"iterm_reset_offset":case"deadband":case"yaw_deadband":case"gyro_lpf":case"gyro_hardware_lpf":case"gyro_32khz_hardware_lpf":case"acc_lpf_hz":case"acc_hardware":case"baro_hardware":case"mag_hardware":case"gyro_cal_on_first_arm":case"vbat_pid_compensation":case"rc_smoothing":case"rc_smoothing_auto_factor":case"rc_smoothing_type":case"rc_smoothing_debug_axis":case"rc_smoothing_rx_average":case"superExpoYawMode":case"features":case"dynamic_pid":case"rc_interpolation":case"rc_interpolation_channels":case"rc_interpolation_interval":case"unsynced_fast_pwm":case"fast_pwm_protocol":case"motor_pwm_rate":case"vbatscale":case"vbatref":case"acc_1G":case"dterm_filter_type":case"dterm_filter2_type":case"pidAtMinThrottle":case"pidSumLimit":case"pidSumLimitYaw":case"anti_gravity_threshold":case"itermWindupPointPercent":case"ptermSRateWeight":case"setpointRelaxRatio":case"feedforward_transition":case"dtermSetpointWeight":case"gyro_soft_type":case"gyro_soft2_type":case"debug_mode":case"anti_gravity_mode":case"anti_gravity_gain":case"abs_control_gain":case"use_integrated_yaw":case"d_min_gain":case"d_min_advance":case"dshot_bidir":case"gyro_rpm_notch_harmonics":case"gyro_rpm_notch_q":case"gyro_rpm_notch_min":case"dterm_rpm_notch_harmonics":case"dterm_rpm_notch_q":case"dterm_rpm_notch_min":case"iterm_relax":case"iterm_relax_type":case"iterm_relax_cutoff":case"dyn_notch_range":case"dyn_notch_width_percent":case"dyn_notch_q":case"dyn_notch_min_hz":case"dyn_notch_max_hz":case"rates_type":case"vbat_sag_compensation":case"fields_disabled_mask":case"motor_pwm_protocol":this.sysConfig[i]=parseInt(s,10);break;case"rc_expo":case"rc_rates":Z(s)?this.sysConfig[i]=J(s):(this.sysConfig[i][0]=parseInt(s,10),this.sysConfig[i][1]=parseInt(s,10));break;case"rcYawExpo":this.sysConfig.rc_expo[2]=parseInt(s,10);break;case"rcYawRate":this.sysConfig.rc_rates[2]=parseInt(s,10);break;case"yawRateAccelLimit":case"rateAccelLimit":3==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"3.1.0")||2==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"2.0.0")?this.sysConfig[i]=parseInt(s,10)/1e3:this.sysConfig[i]=parseInt(s,10);break;case"yaw_lpf_hz":case"gyro_lowpass_hz":case"gyro_lowpass2_hz":case"dterm_notch_hz":case"dterm_notch_cutoff":case"dterm_lpf_hz":case"dterm_lpf2_hz":3==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"3.0.1")||2==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"2.0.0")?this.sysConfig[i]=parseInt(s,10):this.sysConfig[i]=parseInt(s,10)/100;break;case"gyro_notch_hz":case"gyro_notch_cutoff":3==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"3.0.1")||2==this.sysConfig.firmwareType&&ee(this.sysConfig.firmwareVersion,"2.0.0")?this.sysConfig[i]=J(s):this.sysConfig[i]=parseInt(s,10)/100;break;case"digitalIdleOffset":this.sysConfig[i]=parseInt(s,10)/100;case"dterm_cut_hz":case"acc_cut_hz":this.sysConfig[i]=parseInt(s,10);break;case"superExpoFactor":if(Z(s)){var l=J(s);this.sysConfig.superExpoFactor=l[0],this.sysConfig.superExpoFactorYaw=l[1]}else this.sysConfig.superExpoFactor=parseInt(s,10);break;case"rates":case"rate_limits":case"rollPID":case"pitchPID":case"yawPID":case"altPID":case"posPID":case"posrPID":case"navrPID":case"levelPID":case"velPID":case"motorOutput":case"rc_smoothing_active_cutoffs":case"rc_smoothing_cutoffs":case"rc_smoothing_filter_type":case"gyro_lowpass_dyn_hz":case"dterm_lpf_dyn_hz":case"d_min":this.sysConfig[i]=J(s);break;case"magPID":this.sysConfig.magPID=J(s,3);break;case"feedforward_weight":var u=J(s);this.sysConfig.rollPID.push(u[0]),this.sysConfig.pitchPID.push(u[1]),this.sysConfig.yawPID.push(u[2]);break;case"vbatcellvoltage":var c=J(s);this.sysConfig.vbatmincellvoltage=c[0],this.sysConfig.vbatwarningcellvoltage=c[1],this.sysConfig.vbatmaxcellvoltage=c[2];break;case"currentMeter":case"currentSensor":var d=J(s);this.sysConfig.currentMeterOffset=d[0],this.sysConfig.currentMeterScale=d[1];break;case"gyro.scale":case"gyro_scale":this.sysConfig.gyroScale=(t=s,(r=new Uint32Array(1))[0]=parseInt(t,16),new Float32Array(r.buffer)[0]),4!=this.sysConfig.firmwareType&&2!=this.sysConfig.firmwareType&&3!=this.sysConfig.firmwareType||(this.sysConfig.gyroScale=this.sysConfig.gyroScale*(Math.PI/180)*1e-6);break;case"Firmware revision":!function(e,t,r){var a=r.match(/(.*flight).* (\d+)\.(\d+)(\.(\d+))*/i);null!=a?("Betaflight"===a[1]&&(e.firmwareType=3),e.firmware=parseFloat(a[2]+"."+a[3]).toFixed(1),e.firmwarePatch=null!=a[5]?parseInt(a[5]):"0",e.firmwareVersion=e.firmware+"."+e.firmwarePatch):null!=(a=r.match(/(INAV).* (\d+)\.(\d+).(\d+)*/i))?(e.firmwareType=4,e.firmware=parseFloat(a[2]+"."+a[3]),e.firmwarePatch=null!=a[5]?parseInt(a[5]):""):(e.firmwareVersion="0.0.0",e.firmware=0,e.firmwarePatch=0),e[t]=r}(this.sysConfig,i,s);break;case"Product":case"Blackbox version":case"Firmware date":case"Board information":case"Craft name":case"Log start datetime":this.sysConfig[i]=s;break;case"Device UID":this.sysConfig.deviceUID=s;break;default:var f=i.match(/^Field (.) (.+)$/);if(f){var h,m=f[1],g=f[2];switch(this.frameDefs[m]||(this.frameDefs[m]={name:[],nameToIndex:{},count:0,signed:[],predictor:[],encoding:[]}),h=this.frameDefs[m],g){case"predictor":h.predictor=J(s);break;case"encoding":h.encoding=J(s);break;case"name":h.name=function(e){for(var t=0;t<e.length;t++){var r;(r=e[t].match(/^gyroData(.+)$/))&&(e[t]="gyroADC"+r[1])}return e}(s.split(",")),h.count=h.name.length,h.nameToIndex=function(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=r;return t}(h.name),h.signed.length=h.count;break;case"signed":h.signed=J(s);break;default:console.log('Unrecognized field header "'+i+'"')}}else this.sysConfig.unknownHeaders.push({name:i,value:s})}}},{key:"invalidateMainStream",value:function(){this.mainStreamIsValid=!1,this.mainHistory[0]=this.mainHistoryRing?this.mainHistoryRing[0]:null,this.mainHistory[1]=null,this.mainHistory[2]=null}},{key:"resetStats",value:function(){this.stats={totalBytes:0,totalCorruptedFrames:0,intentionallyAbsentIterations:0,frame:{}}}},{key:"_updateFieldStats",value:function(e,t){for(var r=this.stats.frame[e].field,a=0;a<t.length;a++)r[a]?(r[a].max=Math.max(t[a],r[a].max),r[a].min=Math.min(t[a],r[a].min)):r[a]={max:t[a],min:t[a]}}},{key:"_currentFrame",get:function(){return this.mainHistory[0]}},{key:"_previousFrame",get:function(){return this.mainHistory[1]}},{key:"_prevPreviousFrame",get:function(){return this.mainHistory[2]}},{key:"_rotateHistoryBuffers",value:function(e){e.isIntraFrame?(this.mainHistory[1]=this._currentFrame,this.mainHistory[2]=this._currentFrame):(this.mainHistory[2]=this._previousFrame,this.mainHistory[1]=this._currentFrame),this.mainHistory[0]=this.mainHistoryRing[(this.mainHistoryRing.indexOf(this.mainHistory[0])+1)%3]}},{key:"_shouldHaveFrame",value:function(e){return(e%this.sysConfig.frameIntervalI+this.sysConfig.frameIntervalPNum-1)%this.sysConfig.frameIntervalPDenom<this.sysConfig.frameIntervalPNum}},{key:"parseFrame",value:function(e,t,r,a){for(var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=e.predictor,s=e.encoding,o=new Array(8),l=0,u=0;u<e.count;)if(i[u]!=A){var c=void 0;switch(s[u]){case P:c=this.stream.readSignedVB();break;case N:c=this.stream.readUnsignedVB();break;case M:c=-j(this.stream.readUnsignedVB());break;case B:c=0;break;case G:for(this.dataVersion<2?this.stream.readTag8_4S16_v1(o):this.stream.readTag8_4S16_v2(o),l=0;l<4;l++,u++)t[u]=this._applyPrediction(u,i[u],o[l],t,r,a);continue;case k:for(this.stream.readTag2_3S32(o),l=0;l<3;l++,u++)t[u]=this._applyPrediction(u,i[u],o[l],t,r,a);continue;case U:for(this.stream.readTag2_3SVariable(o),l=0;l<3;l++,u++)t[u]=this._applyPrediction(u,i[u],o[l],t,r,a);continue;case x:for(l=u+1;l<u+8&&l<e.count&&s[l]==x;l++);var d=l-u;for(this.stream.readTag8_8SVB(o,d),l=0;l<d;l++,u++)t[u]=this._applyPrediction(u,i[u],o[l],t,r,a);continue;default:throw void 0===s[u]?"Missing field encoding header for field #"+u+" '"+e.name[u]+"'":"Unsupported field encoding "+s[u]}t[u]=this._applyPrediction(u,i[u],c,t,r,a),u++}else t[u]=n+1,r&&(t[u]+=r[u]),u++}},{key:"_applyPrediction",value:function(e,t,r,a,n,i){switch(t){case v:break;case w:r=(0|r)+(0|this.sysConfig.motorOutput[0]);break;case D:r+=1500;break;case O:if(this.frameDefs.I.nameToIndex["motor[0]"]<0)throw"Attempted to base I-field prediction on motor0 before it was read";r+=a[this.frameDefs.I.nameToIndex["motor[0]"]];break;case F:r+=this.sysConfig.vbatref;break;case S:if(!n)break;r+=n[e];break;case T:if(!n)break;r+=2*n[e]-i[e];break;case C:if(!n)break;r+=~~((n[e]+i[e])/2);break;case L:this.mainHistory[1]&&(r+=this.mainHistory[1][p]);break;default:console.error("Unsupported field predictor "+t)}return r}},{key:"_countIntentionallySkippedFrames",value:function(){if(-1==this.lastMainFrameIteration)return 0;for(var e=0,t=this.lastMainFrameIteration+1;!this._shouldHaveFrame(t);t++)e++;return e}},{key:"_countIntentionallySkippedFramesTo",value:function(e){var t,r=0;if(-1==this.lastMainFrameIteration)return 0;for(t=this.lastMainFrameIteration+1;t<e;t++)this._shouldHaveFrame(t)||r++;return r}},{key:"resetDataState",value:function(){this.lastSkippedFrames=0,this.lastMainFrameIteration=-1,this.lastMainFrameTime=-1,this.invalidateMainStream(),this.lastEvent=null}},{key:"_resetAllState",value:function(){this.resetStats();var e=c.extend({},y,R);this.sysConfig=Object.create(e),this.frameDefs={},this.resetDataState()}},{key:"_isFrameDefComplete",value:function(e){return e&&e.count>0&&e.encoding.length==e.count&&e.predictor.length==e.count}},{key:"_setStreamRange",value:function(e,t){this.stream.start=null!=e?e:this.stream.pos,this.stream.pos=this.stream.start,this.stream.end=null!=t?t:this.stream.end,this.stream.eof=!1}},{key:"parseHeader",value:function(e,t){this._resetAllState(),this._setStreamRange(e,t),this.sysConfig.unknownHeaders=[];e:for(;;){var r=this.stream.readChar();switch(r){case"H":if(" "!=this.stream.peekChar()){console.warn("Unexpected header format.");break}this.stream.readChar(),this._parseHeaderLine();break;case s:break e;default:if(this.frameTypes[r]){this.stream.unreadChar(r);break e}}}var a,n,i=(a=this.sysConfig.firmwareType,n=this.sysConfig.firmwareVersion,3==a&&ee(n,"3.3.0")?((fe=he.slice(0)).splice(fe.indexOf("MIXER"),1),fe.splice(fe.indexOf("AIRMODE"),1),fe.splice(fe.indexOf("VELOCITY"),1),fe.splice(fe.indexOf("DTERM_FILTER"),1),ee(n,"3.4.0")&&(fe.splice(fe.indexOf("GYRO"),1,"GYRO_FILTERED"),fe.splice(fe.indexOf("NOTCH"),1,"GYRO_SCALED")),ee(n,"4.0.0")&&fe.splice(fe.indexOf("GYRO_RAW"),0,"RX_SFHSS_SPI"),ee(n,"4.1.0")&&(fe.splice(fe.indexOf("DUAL_GYRO"),1),fe.splice(fe.indexOf("DUAL_GYRO_COMBINED"),1)),fe=ae(fe),oe=ue.slice(0),ee(n,"3.5.0")&&(oe.splice(oe.indexOf("RANGEFINDER"),1),oe.splice(oe.indexOf("CAMTRIG"),1),oe.splice(oe.indexOf("LEDMAX"),1),oe.splice(oe.indexOf("LLIGHTS"),1),oe.splice(oe.indexOf("GOV"),1),oe.splice(oe.indexOf("GTUNE"),1)),ee(n,"4.0.0")&&(oe.splice(oe.indexOf("BARO"),1),oe.splice(oe.indexOf("GPSHOME"),1),oe.splice(oe.indexOf("GPSHOLD"),1)),oe=ae(oe)):(fe=he,oe=ae(oe=le.slice(0))),{debugModes:fe,flightLogFlightModeNames:oe}),o=i.debugModes,l=i.flightLogFlightModeNames;if(this.debugModes=o,this.flightLogFlightModeNames=l,!this._isFrameDefComplete(this.frameDefs.I))throw"Log is missing required definitions for I frames, header may be corrupt";if(!this.frameDefs.P)throw"Log is missing required definitions for P frames, header may be corrupt";if(this.frameDefs.P.count=this.frameDefs.I.count,this.frameDefs.P.name=this.frameDefs.I.name,this.frameDefs.P.nameToIndex=this.frameDefs.I.nameToIndex,this.frameDefs.P.signed=this.frameDefs.I.signed,!this._isFrameDefComplete(this.frameDefs.P))throw"Log is missing required definitions for P frames, header may be corrupt";this.mainHistoryRing=[new Array(this.frameDefs.I.count),new Array(this.frameDefs.I.count),new Array(this.frameDefs.I.count)],this.frameDefs.S?this.lastSlow=new Array(this.frameDefs.S.count):this.lastSlow=[]}},{key:"parseLogData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!1,a=!1,n=0,i=null,o=null;for(this.invalidateMainStream(),this._setStreamRange(e,t);;){var l=this.stream.readChar();if(o){var u=this.stream.pos-n,c=void 0;if(r=this.frameTypes[l]||!a&&l==s,this.stats.frame[o.marker]||(this.stats.frame[o.marker]={bytes:0,sizeCount:new Int32Array(256),validCount:0,corruptCount:0,field:[]}),c=this.stats.frame[o.marker],!(u<=_&&r)){this.mainStreamIsValid=!1,c.corruptCount++,this.stats.totalCorruptedFrames++,this.onFrameReady&&this.onFrameReady(!1,null,o.marker,n,u),this.stream.pos=n+1,o=null,a=!1,this.stream.eof=!1;continue}var d=!0;o.complete&&(d=o.complete(o.marker,n,this.stream.pos)),d?(c.bytes+=u,c.sizeCount[u]++,c.validCount++):c.desyncCount++}if(l==s)break;n=this.stream.pos-1,(i=this.frameTypes[l])&&("E"==l||this.frameDefs[l])?(o=i,i.parse(),this.stream.eof&&(a=!0)):(this.mainStreamIsValid=!1,o=null)}return this.stats.totalBytes+=this.stream.end-this.stream.start,!0}}],r&&d(t.prototype,r),a&&d(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),m="H Product:Blackbox flight data recorder by Nicholas Sherlock\n".split("").map((function(e){return e.charCodeAt(0)})),g=0,p=1;var y={frameIntervalI:32,frameIntervalPNum:1,frameIntervalPDenom:1,firmwareType:0,rcRate:90,vbatscale:110,vbatref:4095,vbatmincellvoltage:33,vbatmaxcellvoltage:43,vbatwarningcellvoltage:35,gyroScale:1e-4,acc_1G:4096,minthrottle:1150,maxthrottle:1850,currentMeterOffset:0,currentMeterScale:400,deviceUID:null},R={abs_control_gain:null,anti_gravity_gain:null,anti_gravity_mode:null,anti_gravity_threshold:null,thrMid:null,thrExpo:null,tpa_breakpoint:null,airmode_activate_throttle:null,serialrx_provider:null,superExpoFactor:null,rates:[null,null,null],rate_limits:[1998,1998,1998],rc_rates:[null,null,null],rc_expo:[null,null,null],looptime:null,gyro_sync_denom:null,pid_process_denom:null,pidController:null,rollPID:[null,null,null],pitchPID:[null,null,null],yawPID:[null,null,null],feedforward_transition:null,altPID:[null,null,null],posPID:[null,null,null],posrPID:[null,null,null],navrPID:[null,null,null],levelPID:[null,null,null],magPID:null,velPID:[null,null,null],yaw_p_limit:null,yaw_lpf_hz:null,dterm_average_count:null,rollPitchItermResetRate:null,yawItermResetRate:null,dshot_bidir:null,dterm_lpf_hz:null,dterm_lpf_dyn_hz:[null,null],dterm_lpf2_hz:null,dterm_differentiator:null,H_sensitivity:null,iterm_reset_offset:null,deadband:null,yaw_deadband:null,gyro_lpf:null,gyro_32khz_hardware_lpf:null,gyro_lowpass_hz:null,gyro_lowpass_dyn_hz:[null,null],gyro_lowpass2_hz:null,gyro_notch_hz:null,gyro_notch_cutoff:null,gyro_rpm_notch_harmonics:null,gyro_rpm_notch_q:null,gyro_rpm_notch_min:null,dterm_rpm_notch_harmonics:null,dterm_rpm_notch_q:null,dterm_rpm_notch_min:null,dterm_notch_hz:null,dterm_notch_cutoff:null,acc_lpf_hz:null,acc_hardware:null,baro_hardware:null,mag_hardware:null,gyro_cal_on_first_arm:null,vbat_pid_compensation:null,rc_smoothing:null,rc_smoothing_type:null,rc_interpolation:null,rc_interpolation_channels:null,rc_interpolation_interval:null,rc_smoothing_active_cutoffs:[null,null],rc_smoothing_auto_factor:null,rc_smoothing_cutoffs:[null,null],rc_smoothing_filter_type:[null,null],rc_smoothing_rx_average:null,rc_smoothing_debug_axis:null,dterm_filter_type:null,dterm_filter2_type:null,pidAtMinThrottle:null,itermThrottleGain:null,ptermSetpointWeight:null,dtermSetpointWeight:null,yawRateAccelLimit:null,rateAccelLimit:null,gyro_soft_type:null,gyro_soft2_type:null,debug_mode:null,features:null,Craft_name:null,motorOutput:[null,null],digitalIdleOffset:null,pidSumLimit:null,pidSumLimitYaw:null,use_integrated_yaw:null,d_min:[null,null,null],d_min_gain:null,d_min_advance:null,iterm_relax:null,iterm_relax_type:null,iterm_relax_cutoff:null,dyn_notch_range:null,dyn_notch_width_percent:null,dyn_notch_q:null,dyn_notch_min_hz:null,dyn_notch_max_hz:null,rates_type:null,fields_disabled_mask:null,vbat_sag_compensation:null},E={acc_limit_yaw:"yawRateAccelLimit",accel_limit:"rateAccelLimit",acc_limit:"rateAccelLimit",anti_gravity_thresh:"anti_gravity_threshold",currentSensor:"currentMeter",d_notch_cut:"dterm_notch_cutoff",d_setpoint_weight:"dtermSetpointWeight",dterm_lowpass_hz:"dterm_lpf_hz",dterm_lowpass_dyn_hz:"dterm_lpf_dyn_hz",dterm_lowpass2_hz:"dterm_lpf2_hz",dterm_setpoint_weight:"dtermSetpointWeight",digital_idle_value:"digitalIdleOffset",dshot_idle_value:"digitalIdleOffset",gyro_hardware_lpf:"gyro_lpf",gyro_lowpass:"gyro_lowpass_hz",gyro_lowpass_type:"gyro_soft_type",gyro_lowpass2_type:"gyro_soft2_type","gyro.scale":"gyro_scale",iterm_windup:"itermWindupPointPercent",motor_pwm_protocol:"fast_pwm_protocol",pidsum_limit:"pidSumLimit",pidsum_limit_yaw:"pidSumLimitYaw",rc_expo_yaw:"rcYawExpo",rc_interp:"rc_interpolation",rc_interp_int:"rc_interpolation_interval",rc_rate:"rc_rates",rc_rate_yaw:"rcYawRate",rc_yaw_expo:"rcYawExpo",rcExpo:"rc_expo",rcRate:"rc_rates",setpoint_relax_ratio:"setpointRelaxRatio",setpoint_relaxation_ratio:"setpointRelaxRatio",thr_expo:"thrExpo",thr_mid:"thrMid",tpa_rate:"dynThrPID",use_unsynced_pwm:"unsynced_fast_pwm",vbat_scale:"vbatscale",vbat_pid_gain:"vbat_pid_compensation",yaw_accel_limit:"yawRateAccelLimit",yaw_lowpass_hz:"yaw_lpf_hz"},_=256,I=1e7,b=5e3,v=0,S=1,T=2,C=3,O=5,A=6,D=8,F=9,L=10,w=11,P=0,N=1,M=3,x=6,k=7,G=8,B=9,U=10;function H(e,t,r){return Math.max(t,Math.min(e,r))}function Y(e,t,r){for(e=""+e;e.length<r;)e=t+e;return e}function V(e){return 8388608&e?4278190080|e:e}function X(e){return 32768&e?4294901760|e:e}function j(e){return 8192&e?4294950912|e:e}function z(e){return 128&e?4294967040|e:e}function W(e){return 64&e?4294967168|e:e}function K(e){return 32&e?4294967232|e:e}function $(e){return 16&e?4294967264|e:e}function q(e){return 8&e?4294967280|e:e}function Q(e){return 2&e?4294967292|e:e}function Z(e){return null!=e.match(/.*,.*/)}function J(e){var t,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.split(",");if((a=a||n.length)<2)return r=n.indexOf(".")?parseFloat(n):parseInt(n,10),isNaN(r)?e:r;t=new Array(a);for(var i=0;i<a;i++)i<n.length?(r=n[i].indexOf(".")?parseFloat(n[i]):parseInt(n[i],10),t[i]=isNaN(r)?n[i]:r):t[i]=null;return t}function ee(t,r){return new e.SemVer(t).compare(r)>=0}function te(e,t,r){return void 0===r?3==e.firmwareType&&ee(e.firmwareVersion,t):3==e.firmwareType&&ee(e.firmwareVersion,t)||2==e.firmwareType&&ee(e.firmwareVersion,r)}function re(e,t){for(var r,a=0,n=e.length,i=0;a<n;){if(e[r=Math.floor((a+n)/2)]===t)return r;e[r]<t?(i=r,a=r+1):n=r}return i}function ae(e){return Object.freeze?Object.freeze(e):e}var ne=1999,ie=ae({SYNC_BEEP:0,INFLIGHT_ADJUSTMENT:13,LOGGING_RESUME:14,DISARM:15,FLIGHT_MODE:30,CUSTOM:250,CUSTOM_BLANK:251,LOG_END:255}),se=ae({ROLL:0,PITCH:1,YAW:2}),oe=[],le=ae(["ARM","ANGLE","HORIZON","BARO","ANTIGRAVITY","MAG","HEADFREE","HEADADJ","CAMSTAB","CAMTRIG","GPSHOME","GPSHOLD","PASSTHRU","BEEPER","LEDMAX","LEDLOW","LLIGHTS","CALIB","GOV","OSD","TELEMETRY","GTUNE","SONAR","SERVO1","SERVO2","SERVO3","BLACKBOX","FAILSAFE","AIRMODE","3DDISABLE","FPVANGLEMIX","BLACKBOXERASE","CAMERA1","CAMERA2","CAMERA3","FLIPOVERAFTERCRASH","PREARM"]),ue=ae(["ARM","ANGLE","HORIZON","MAG","BARO","GPSHOME","GPSHOLD","HEADFREE","PASSTHRU","RANGEFINDER","FAILSAFE","GPSRESCUE","ANTIGRAVITY","HEADADJ","CAMSTAB","CAMTRIG","BEEPER","LEDMAX","LEDLOW","LLIGHTS","CALIB","GOV","OSD","TELEMETRY","GTUNE","SERVO1","SERVO2","SERVO3","BLACKBOX","AIRMODE","3D","FPVANGLEMIX","BLACKBOXERASE","CAMERA1","CAMERA2","CAMERA3","FLIPOVERAFTERCRASH","PREARM","BEEPGPSCOUNT","VTXPITMODE","USER1","USER2","USER3","USER4","PIDAUDIO","ACROTRAINER","VTXCONTROLDISABLE","LAUNCHCONTROL"]),ce=ae(["RX_PPM","VBAT","INFLIGHT_ACC_CAL","RX_SERIAL","MOTOR_STOP","SERVO_TILT","SOFTSERIAL","GPS","FAILSAFE","SONAR","TELEMETRY","CURRENT_METER","3D","RX_PARALLEL_PWM","RX_MSP","RSSI_ADC","LED_STRIP","DISPLAY","ONESHOT125","BLACKBOX","CHANNEL_FORWARDING","TRANSPONDER","AIRMODE","SUPEREXPO_RATES"]),de=ae(["PWM","ONESHOT125","ONESHOT42","MULTISHOT","BRUSHED","DSHOT150","DSHOT300","DSHOT600","DSHOT1200","PROSHOT1000"]),fe=(ae(["SPEK1024","SPEK2048","SBUS","SUMD","SUMH","XB-B","XB-B-RJ01","IBUS","JETIEXBUS","CRSF","SRXL","CUSTOM","FPORT"]),ae(["SMOOTH","STEP"]),ae(["INTERPOLATION","FILTER"]),ae(["PT1","BIQUAD"]),ae(["OFF","PT1","BIQUAD"]),ae(["ROLL","PITCH","YAW","THROTTLE"]),ae(["OFF","DEFAULT","AUTO","MANUAL"]),ae(["PT1","BIQUAD","FIR"]),[]),he=ae(["NONE","CYCLETIME","BATTERY","GYRO","ACCELEROMETER","MIXER","AIRMODE","PIDLOOP","NOTCH","RC_INTERPOLATION","VELOCITY","DTERM_FILTER","ANGLERATE","ESC_SENSOR","SCHEDULER","STACK","ESC_SENSOR_RPM","ESC_SENSOR_TMP","ALTITUDE","FFT","FFT_TIME","FFT_FREQ","RX_FRSKY_SPI","GYRO_RAW","DUAL_GYRO","DUAL_GYRO_RAW","DUAL_GYRO_COMBINED","DUAL_GYRO_DIFF","MAX7456_SIGNAL","MAX7456_SPICLOCK","SBUS","FPORT","RANGEFINDER","RANGEFINDER_QUALITY","LIDAR_TF","ADC_INTERNAL","RUNAWAY_TAKEOFF","SDIO","CURRENT_SENSOR","USB","SMARTAUDIO","RTH","ITERM_RELAX","ACRO_TRAINER","RC_SMOOTHING","RX_SIGNAL_LOSS","RC_SMOOTHING_RATE","ANTI_GRAVITY","DYN_LPF","RX_SPECTRUM_SPI","DSHOT_RPM_TELEMETRY","RPM_FILTER","D_MIN","AC_CORRECTION","AC_ERROR","DUAL_GYRO_SCALED","DSHOT_RPM_ERRORS","CRSF_LINK_STATISTICS_UPLINK","CRSF_LINK_STATISTICS_PWR","CRSF_LINK_STATISTICS_DOWN","BARO","GPS_RESCUE_THROTTLE_PID","DYN_IDLE","FF_LIMIT","FF_INTERPOLATED"]),me=ae(["GPS_FIX_HOME","GPS_FIX","CALIBRATE_MAG","SMALL_ANGLE","FIXED_WING"]),ge=ae(["IDLE","RX_LOSS_DETECTED","LANDING","LANDED"]),pe=ae(["ARM_CFFT_F32","BITREVERSAL","STAGE_RFFT_F32","ARM_CMPLX_MAG_F32","CALC_FREQUENCIES","UPDATE_FILTERS","HANNING"]),ye=(ae(["OFF","RP","RPY","RP_INC","RPY_INC"]),ae(["GYRO","SETPOINT"]),ae(["ARMING_DISABLED","FAILSAFE","THROTTLE_TIMEOUT","STICKS","SWITCH","CRASH_PROTECTION","RUNAWAY_TAKEOFF","GPS_RESCUE","SERIAL_IO"]),ae(["BETAFLIGHT","RACEFLIGHT","KISS","ACTUAL","QUICK"]));function Re(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _e=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logData=t,Ee(this,"logBeginOffsets",null),Ee(this,"intraframeDirectories",null)}var t,r,a;return t=e,(r=[{key:"_buildIntraframeDirectories",value:function(){var e=new h(this.logData);this.intraframeDirectories=[];for(var t=0;t<this.getLogCount();t++){var r=this._parseSubLog(e,t);this.intraframeDirectories.push(r)}}},{key:"_parseSubLog",value:function(e,t){var r,a,n={times:[],offsets:[],avgThrottle:[],initialSlow:[],hasEvent:[],minTime:!1,maxTime:!1,error:"",stats:[]},i=0,s=[],o=!1;try{e.parseHeader(this.logBeginOffsets[t],this.logBeginOffsets[t+1]),a=!0}catch(e){console.error("Error parsing header of log #"+(t+1)+": "+e),n.error=e,a=!1}if(a){for(var l=e.frameDefs.I,u=[],c=0;c<8;c++)void 0!==l.nameToIndex["motor["+c+"]"]&&s.push(l.nameToIndex["motor["+c+"]"]);e.onFrameReady=function(e,t,a,l,c){if(e)switch(a){case"P":case"I":var d=t[p];!1===n.minTime&&(n.minTime=d),(!1===n.maxTime||d>n.maxTime)&&(n.maxTime=d),"I"==a&&(i%4==0&&(n.times.push(d),n.offsets.push(l),s.length&&(r=s.reduce((function(e,r){return e+t[r]}),0),n.avgThrottle.push(Math.round(r/s.length))),n.initialSlow.push(u)),i++);break;case"E":n.times.length>0&&(n.hasEvent[n.times.length-1]=!0),t.event==ie.LOG_END&&(o=!0);break;case"S":u=t.slice(0)}};try{e.parseLogData()}catch(e){n.error=e}e.frameDefs.S||delete n.initialSlow,n.stats=e.stats}return!1===n.minTime&&(n.error+=o?": Logging paused, no data":": Log truncated, no data"),n}},{key:"getLogBeginOffset",value:function(e){return this.logBeginOffsets||this.buildLogOffsetsIndex(),this.logBeginOffsets[e]}},{key:"getLogCount",value:function(){return this.logBeginOffsets||this.buildLogOffsetsIndex(),this.logBeginOffsets.length-1}},{key:"_getIntraframeDirectories",value:function(){return this.intraframeDirectories||this._buildIntraframeDirectories(),this.intraframeDirectories}},{key:"getIntraframeDirectory",value:function(e){return this._getIntraframeDirectories()[e]}},{key:"buildLogOffsetsIndex",value:function(){this.logBeginOffsets=new l(this.logData).allIndicesOf(m)}}])&&Re(t.prototype,r),a&&Re(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ie(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var be=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,a=[{key:"presentFlags",value:function(e,t){var r,a=!1,n="";for(r=0;e>0;)0!=(1&e)&&(a?n+="|":a=!0,n+=t[r]),e>>=1,r++;return a?n:"0"}},{key:"presentChangeEvent",value:function(e,t,r){for(var a="",n=!1,i=0;i<r.length;i++)1<<i&(e^t)&&(a+="|"+r[i]+" "+(1<<i&e?"ON":"OFF"),n=!0);return n||(a+=" | ACRO"),a}},{key:"presentEnum",value:function(e,t){return void 0===t[e]?e:t[e]}},{key:"decodeField",value:function(e,t,r){if(null==r)return r;switch(t){case"gyroADC[0]":case"gyroADC[1]":case"gyroADC[2]":return Math.round(e.gyroRawToDegreesPerSecond(r));case"axisError[0]":case"axisError[1]":case"axisError[2]":return Math.round(r);case"rcCommand[0]":case"rcCommand[1]":case"rcCommand[2]":return(r+1500).toFixed(0);case"rcCommand[3]":case"rcCommands[0]":case"rcCommands[1]":case"rcCommands[2]":return r.toFixed(0);case"motor[0]":case"motor[1]":case"motor[2]":case"motor[3]":case"motor[4]":case"motor[5]":case"motor[6]":case"motor[7]":return e.rcMotorRawToPctPhysical(r).toFixed(2);case"rcCommands[3]":case"axisSum[0]":case"axisSum[1]":case"axisSum[2]":case"axisP[0]":case"axisP[1]":case"axisP[2]":case"axisI[0]":case"axisI[1]":case"axisI[2]":case"axisD[0]":case"axisD[1]":case"axisD[2]":case"axisF[0]":case"axisF[1]":case"axisF[2]":return r.toFixed(1);case"debug[0]":case"debug[1]":case"debug[2]":case"debug[3]":switch(fe[e.getSysConfig().debug_mode]){case"GYRO":case"GYRO_FILTERED":case"GYRO_SCALED":case"NOTCH":case"DUAL_GYRO":case"DUAL_GYRO_COMBINED":case"DUAL_GYRO_DIFF":case"DUAL_GYRO_RAW":return Math.round(e.gyroRawToDegreesPerSecond(r))}break;default:throw"Unrecognized field when decode: ".concat(t)}}},{key:"decodeFieldToFriendly",value:function(t,r,a,n){if(void 0===a)return"";switch(r){case"time":return i=a/1e3,s=!0,o=Math.round(Math.abs(i)),l=Math.floor(o/1e3),o%=1e3,u=Math.floor(l/60),l%=60,c=Math.floor(u/60),u%=60,(i<0?"-":"")+(c?Y(c,"0",2)+":":"")+Y(u,"0",2)+":"+Y(l,"0",2)+(s?"."+Y(o,"0",3):"");case"gyroADC[0]":case"gyroADC[1]":case"gyroADC[2]":return"".concat(Math.round(t.gyroRawToDegreesPerSecond(a))," deg/s");case"axisError[0]":case"axisError[1]":case"axisError[2]":return Math.round(a)+" deg/s";case"rcCommand[0]":case"rcCommand[1]":case"rcCommand[2]":return(a+1500).toFixed(0)+" us";case"rcCommand[3]":return a.toFixed(0)+" us";case"motor[0]":case"motor[1]":case"motor[2]":case"motor[3]":case"motor[4]":case"motor[5]":case"motor[6]":case"motor[7]":return"".concat(t.rcMotorRawToPctPhysical(a).toFixed(2)," %");case"motorLegacy[0]":case"motorLegacy[1]":case"motorLegacy[2]":case"motorLegacy[3]":case"motorLegacy[4]":case"motorLegacy[5]":case"motorLegacy[6]":case"motorLegacy[7]":return"".concat(t.rcMotorRawToPctEffective(a).toFixed(2)," % (").concat(a,")");case"rcCommands[0]":case"rcCommands[1]":case"rcCommands[2]":return a.toFixed(0)+" deg/s";case"rcCommands[3]":return a.toFixed(1)+"%";case"axisSum[0]":case"axisSum[1]":case"axisSum[2]":case"axisP[0]":case"axisP[1]":case"axisP[2]":case"axisI[0]":case"axisI[1]":case"axisI[2]":case"axisD[0]":case"axisD[1]":case"axisD[2]":case"axisF[0]":case"axisF[1]":case"axisF[2]":return t.getPIDPercentage(a).toFixed(1)+"%";case"accSmooth[0]":case"accSmooth[1]":case"accSmooth[2]":return t.accRawToGs(a).toFixed(2)+"g";case"vbatLatest":return 3==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"4.0.0")?(a/100).toFixed(2)+"V, "+(a/100/t.getNumCellsEstimate()).toFixed(2)+"V/cell":3==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"3.1.0")||2==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"2.0.0")?(a/10).toFixed(2)+"V, "+(a/10/t.getNumCellsEstimate()).toFixed(2)+"V/cell":(t.vbatADCToMillivolts(a)/1e3).toFixed(2)+"V, "+(t.vbatADCToMillivolts(a)/1e3/t.getNumCellsEstimate()).toFixed(2)+"V/cell";case"amperageLatest":return 3==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"3.1.7")||2==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"2.0.0")||3==t.getSysConfig().firmwareType&&ee(t.getSysConfig().firmwareVersion,"3.1.0")?(a/100).toFixed(2)+"A, "+(a/100/t.getNumMotors()).toFixed(2)+"A/motor":(t.amperageADCToMillivolts(a)/1e3).toFixed(2)+"A, "+(t.amperageADCToMillivolts(a)/1e3/t.getNumMotors()).toFixed(2)+"A/motor";case"BaroAlt":return(a/100).toFixed(1)+"m";case"flightModeFlags":return e.presentFlags(a,oe);case"stateFlags":return e.presentFlags(a,me);case"failsafePhase":return e.presentEnum(a,ge);case"features":return e.presentEnum(a,ce);case"rssi":return(a/1024*100).toFixed(2)+"%";case"debug[0]":case"debug[1]":case"debug[2]":case"debug[3]":return e.decodeDebugFieldToFriendly(t,r,a,n);default:return""}var i,s,o,l,u,c}},{key:"decodeDebugFieldToFriendly",value:function(t,r,a,n){if(t){switch(fe[t.getSysConfig().debug_mode]){case"NONE":case"AIRMODE":case"VELOCITY":return"";case"CYCLETIME":return"debug[1]"===r?a.toFixed(0)+"%":a.toFixed(0)+"μS";case"PIDLOOP":return a.toFixed(0)+"μS";case"BATTERY":return"debug[0]"===r?a.toFixed(0):(a/10).toFixed(1)+"V";case"GYRO":case"GYRO_FILTERED":case"GYRO_SCALED":case"NOTCH":case"DUAL_GYRO":case"DUAL_GYRO_COMBINED":case"DUAL_GYRO_DIFF":case"DUAL_GYRO_RAW":return Math.round(t.gyroRawToDegreesPerSecond(a))+"deg/s";case"ACCELEROMETER":return t.accRawToGs(a).toFixed(2)+"g";case"MIXER":return Math.round(t.rcCommandRawToThrottle(a))+" %";case"RC_INTERPOLATION":switch(r){case"debug[1]":return a.toFixed(0)+"ms";case"debug[3]":return a.toFixed(0)+"deg/s"}break;case"RC_SMOOTHING":switch(r){case"debug[0]":return(a+1500).toFixed(0)+" us";case"debug[3]":return(a/1e3).toFixed(1)+"ms"}break;case"RC_SMOOTHING_RATE":switch(r){case"debug[0]":case"debug[2]":return(a/1e3).toFixed(2)+"ms"}break;case"DFILTER":return"";case"ANGLERATE":return a.toFixed(0)+"deg/s";case"ESC_SENSOR":return"debug[3]"===r?a.toFixed(0)+"μS":a.toFixed(0)+"";case"ESC_SENSOR_RPM":return a.toFixed(0)+"rpm";case"ESC_SENSOR_TMP":return a.toFixed(0)+"°C";case"SCHEDULER":return a.toFixed(0)+"μS";case"STACK":return a.toFixed(0);case"FFT":switch(r){case"debug[0]":case"debug[1]":case"debug[2]":return Math.round(t.gyroRawToDegreesPerSecond(a))+"deg/s";case"debug[3]":return(a/100).toFixed(2)}break;case"FFT_TIME":switch(r){case"debug[0]":return e.presentEnum(a,pe);case"debug[1]":case"debug[2]":return a.toFixed(0)+"μs"}break;case"FFT_FREQ":switch(r){case"debug[2]":case"debug[3]":return Math.round(t.gyroRawToDegreesPerSecond(a))+"deg/s";default:return a.toFixed(0)+"Hz"}case"DSHOT_RPM_TELEMETRY":return a.toFixed(0)+"erpm";case"RPM_FILTER":return a.toFixed(0)+"Hz";case"D_MIN":switch(r){case"debug[0]":case"debug[1]":return a.toFixed(0)+"%";case"debug[2]":case"debug[3]":return(a/10).toFixed(1)}break;case"ITERM_RELAX":switch(r){case"debug[0]":return a.toFixed(0)+"deg/s";case"debug[1]":return a.toFixed(0)+"%";case"debug[3]":return(a/10).toFixed(1)+"deg"}break;case"DYN_LPF":switch(r){case"debug[0]":case"debug[3]":return Math.round(t.gyroRawToDegreesPerSecond(a))+"deg/s";default:return a.toFixed(0)+"Hz"}break;case"AC_ERROR":return(a/10).toFixed(1)+"deg";case"AC_CORRECTION":return(a/10).toFixed(1)+"deg/s";case"GPS_RESCUE_THROTTLE_PID":return a.toFixed(0);case"RTH":return"debug[1]"===r?(a/100).toFixed(1)+"deg":a.toFixed(0)}return a.toFixed(0)}return""}},{key:"fieldNameToFriendly",value:function(e,t){if(t&&e.includes("debug")){var r,a=fe[t];if(a&&(r=Se[a]),!r){if("debug[all]"===e)return"Debug ("+(a||t)+")";r=Se[fe[0]]}return r[e]}return ve[e]?ve[e]:e}}],(r=null)&&Ie(t.prototype,r),a&&Ie(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ve={"axisP[all]":"PID P","axisP[0]":"PID P [roll]","axisP[1]":"PID P [pitch]","axisP[2]":"PID P [yaw]","axisI[all]":"PID I","axisI[0]":"PID I [roll]","axisI[1]":"PID I [pitch]","axisI[2]":"PID I [yaw]","axisD[all]":"PID D","axisD[0]":"PID D [roll]","axisD[1]":"PID D [pitch]","axisD[2]":"PID D [yaw]","axisF[all]":"PID Feedforward","axisF[0]":"PID Feedforward [roll]","axisF[1]":"PID Feedforward [pitch]","axisF[2]":"PID Feedforward [yaw]","axisSum[all]":"PID Sum","axisSum[0]":"PID Sum [roll]","axisSum[1]":"PID Sum [pitch]","axisSum[2]":"PID Sum [yaw]","axisError[all]":"PID Error","axisError[0]":"PID Error [roll]","axisError[1]":"PID Error [pitch]","axisError[2]":"PID Error [yaw]","rcCommands[all]":"Setpoints","rcCommands[0]":"Setpoint [roll]","rcCommands[1]":"Setpoint [pitch]","rcCommands[2]":"Setpoint [yaw]","rcCommands[3]":"Setpoint [throttle]","rcCommand[all]":"RC Commands","rcCommand[0]":"RC Command [roll]","rcCommand[1]":"RC Command [pitch]","rcCommand[2]":"RC Command [yaw]","rcCommand[3]":"RC Command [throttle]","gyroADC[all]":"Gyros","gyroADC[0]":"Gyro [roll]","gyroADC[1]":"Gyro [pitch]","gyroADC[2]":"Gyro [yaw]","motor[all]":"Motors","motor[0]":"Motor [1]","motor[1]":"Motor [2]","motor[2]":"Motor [3]","motor[3]":"Motor [4]","motor[4]":"Motor [5]","motor[5]":"Motor [6]","motor[6]":"Motor [7]","motor[7]":"Motor [8]","motorLegacy[all]":"Motors (Legacy)","motorLegacy[0]":"Motor (Legacy) [1]","motorLegacy[1]":"Motor (Legacy) [2]","motorLegacy[2]":"Motor (Legacy) [3]","motorLegacy[3]":"Motor (Legacy) [4]","motorLegacy[4]":"Motor (Legacy) [5]","motorLegacy[5]":"Motor (Legacy) [6]","motorLegacy[6]":"Motor (Legacy) [7]","motorLegacy[7]":"Motor (Legacy) [8]","servo[all]":"Servos","servo[5]":"Servo Tail",vbatLatest:"Battery volt.",amperageLatest:"Amperage",BaroAlt:"Barometer","accSmooth[all]":"Accel.","accSmooth[0]":"Accel. [X]","accSmooth[1]":"Accel. [Y]","accSmooth[2]":"Accel. [Z]","magADC[all]":"Compass","magADC[0]":"Compass [X]","magADC[1]":"Compass [Y]","magADC[2]":"Compass [Z]",flightModeFlags:"Flight Mode Flags",stateFlags:"State Flags",failsafePhase:"Failsafe Phase",rxSignalReceived:"RX Signal Received",rxFlightChannelsValid:"RX Flight Ch. Valid",rssi:"RSSI"},Se={NONE:{"debug[all]":"Debug [all]","debug[0]":"Debug [0]","debug[1]":"Debug [1]","debug[2]":"Debug [2]","debug[3]":"Debug [3]"},CYCLETIME:{"debug[all]":"Debug Cycle Time","debug[0]":"Cycle Time","debug[1]":"CPU Load","debug[2]":"Motor Update","debug[3]":"Motor Deviation"},BATTERY:{"debug[all]":"Debug Battery","debug[0]":"Battery Volt. ADC","debug[1]":"Battery Volt.","debug[2]":"Not Used","debug[3]":"Not Used"},GYRO:{"debug[all]":"Debug Gyro","debug[0]":"Gyro Raw [X]","debug[1]":"Gyro Raw [Y]","debug[2]":"Gyro Raw [Z]","debug[3]":"Not Used"},GYRO_FILTERED:{"debug[all]":"Debug Gyro Filtered","debug[0]":"Gyro Filtered [X]","debug[1]":"Gyro Filtered [Y]","debug[2]":"Gyro Filtered [Z]","debug[3]":"Not Used"},ACCELEROMETER:{"debug[all]":"Debug Accel.","debug[0]":"Accel. Raw [X]","debug[1]":"Accel. Raw [Y]","debug[2]":"Accel. Raw [Z]","debug[3]":"Not Used"},MIXER:{"debug[all]":"Debug Mixer","debug[0]":"Roll-Pitch-Yaw Mix [0]","debug[1]":"Roll-Pitch-Yaw Mix [1]","debug[2]":"Roll-Pitch-Yaw Mix [2]","debug[3]":"Roll-Pitch-Yaw Mix [3]"},PIDLOOP:{"debug[all]":"Debug PID","debug[0]":"Wait Time","debug[1]":"Sub Update Time","debug[2]":"PID Update Time","debug[3]":"Motor Update Time"},NOTCH:{"debug[all]":"Debug Notch","debug[0]":"Gyro Pre-Notch [roll]","debug[1]":"Gyro Pre-Notch [pitch]","debug[2]":"Gyro Pre-Notch [yaw]","debug[3]":"Not Used"},GYRO_SCALED:{"debug[all]":"Debug Gyro Scaled","debug[0]":"Gyro Scaled [roll]","debug[1]":"Gyro Scaled [pitch]","debug[2]":"Gyro Scaled [yaw]","debug[3]":"Not Used"},RC_INTERPOLATION:{"debug[all]":"Debug RC Interpolation","debug[0]":"Raw RC Command [roll]","debug[1]":"Current RX Refresh Rate","debug[2]":"Interpolation Step Count","debug[3]":"RC Setpoint [roll]"},RC_SMOOTHING:{"debug[all]":"Debug RC Smoothing","debug[0]":"Raw RC Command","debug[1]":"Raw RC Derivative","debug[2]":"Smoothed RC Derivative","debug[3]":"RX Refresh Rate"},RC_SMOOTHING_RATE:{"debug[all]":"Debug RC Smoothing Rate","debug[0]":"Current RX Refresh Rate","debug[1]":"Training Step Count","debug[2]":"Average RX Refresh Rate","debug[3]":"Sampling State"},DTERM_FILTER:{"debug[all]":"Debug Filter","debug[0]":"DTerm Filter [roll]","debug[1]":"DTerm Filter [pitch]","debug[2]":"Not Used","debug[3]":"Not Used"},ANGLERATE:{"debug[all]":"Debug Angle Rate","debug[0]":"Angle Rate[roll]","debug[1]":"Angle Rate[pitch]","debug[2]":"Angle Rate[yaw]","debug[3]":"Not Used"},ESC_SENSOR:{"debug[all]":"ESC Sensor","debug[0]":"Motor Index","debug[1]":"Timeouts","debug[2]":"CNC errors","debug[3]":"Data age"},SCHEDULER:{"debug[all]":"Scheduler","debug[0]":"Not Used","debug[1]":"Not Used","debug[2]":"Schedule Time","debug[3]":"Function Exec Time"},STACK:{"debug[all]":"Stack","debug[0]":"Stack High Mem","debug[1]":"Stack Low Mem","debug[2]":"Stack Current","debug[3]":"Stack p"},FFT:{"debug[all]":"Debug FFT","debug[0]":"Gyro Scaled [dbg-axis]","debug[1]":"Gyro Pre-Dyn [dbg-axis]","debug[2]":"Gyro Downsampled [roll]","debug[3]":"FFT Center Index [roll]"},FFT_TIME:{"debug[all]":"Debug FFT TIME","debug[0]":"Active calc step","debug[1]":"Step duration","debug[2]":"Additional steps","debug[3]":"Not used"},FFT_FREQ:{"debug[all]":"Debug FFT FREQ","debug[0]":"Center Freq [roll]","debug[1]":"Center Freq [pitch]","debug[2]":"Gyro Pre-Dyn [dbg-axis]","debug[3]":"Gyro Scaled [dbg-axis]"},GYRO_RAW:{"debug[all]":"Debug Gyro Raw","debug[0]":"Gyro Raw [X]","debug[1]":"Gyro Raw [Y]","debug[2]":"Gyro Raw [Z]","debug[3]":"Not Used"},DUAL_GYRO:{"debug[all]":"Debug Dual Gyro","debug[0]":"Gyro 1 Filtered [roll]","debug[1]":"Gyro 1 Filtered [pitch]","debug[2]":"Gyro 2 Filtered [roll]","debug[3]":"Gyro 2 Filtered [pitch]"},DUAL_GYRO_RAW:{"debug[all]":"Debug Dual Gyro Raw","debug[0]":"Gyro 1 Raw [roll]","debug[1]":"Gyro 1 Raw [pitch]","debug[2]":"Gyro 2 Raw [roll]","debug[3]":"Gyro 2 Raw [pitch]"},DUAL_GYRO_COMBINED:{"debug[all]":"Debug Dual Combined","debug[0]":"Not Used","debug[1]":"Gyro Filtered [roll]","debug[2]":"Gyro Filtered [pitch]","debug[3]":"Not Used"},DUAL_GYRO_DIFF:{"debug[all]":"Debug Dual Gyro Diff","debug[0]":"Gyro Diff [roll]","debug[1]":"Gyro Diff [pitch]","debug[2]":"Gyro Diff [yaw]","debug[3]":"Not Used"},ESC_SENSOR_RPM:{"debug[all]":"ESC RPM","debug[0]":"ESC RPM [1]","debug[1]":"ESC RPM [2]","debug[2]":"ESC RPM [3]","debug[3]":"ESC RPM [4]"},DSHOT_RPM_TELEMETRY:{"debug[all]":"DSHOT RPM","debug[0]":"DSHOT RPM [1]","debug[1]":"DSHOT RPM [2]","debug[2]":"DSHOT RPM [3]","debug[3]":"DSHOT RPM [4]"},RPM_FILTER:{"debug[all]":"RPM Filter","debug[0]":"RPM Filter [1]","debug[1]":"RPM Filter [2]","debug[2]":"RPM Filter [3]","debug[3]":"RPM Filter [4]"},D_MIN:{"debug[all]":"D_MIN","debug[0]":"Gyro Factor [roll]","debug[1]":"Setpoint Factor [roll]","debug[2]":"Actual D [roll]","debug[3]":"Actual D [pitch]"},ITERM_RELAX:{"debug[all]":"I-term Relax","debug[0]":"Setpoint HPF [roll]","debug[1]":"I Relax Factor [roll]","debug[2]":"Relaxed I Error [roll]","debug[3]":"Axis Error [roll]"},DYN_LPF:{"debug[all]":"Debug Dyn LPF","debug[0]":"Gyro Scaled [dbg-axis]","debug[1]":"Notch Center [roll]","debug[2]":"Lowpass Cutoff","debug[3]":"Gyro Pre-Dyn [dbg-axis]"},AC_CORRECTION:{"debug[all]":"AC Correction","debug[0]":"AC Correction [roll]","debug[1]":"AC Correction [pitch]","debug[2]":"AC Correction [yaw]","debug[3]":"Not Used"},AC_ERROR:{"debug[all]":"AC Error","debug[0]":"AC Error [roll]","debug[1]":"AC Error [pitch]","debug[2]":"AC Error [yaw]","debug[3]":"Not Used"},DUAL_GYRO_SCALED:{"debug[all]":"Dual Gyro Scaled","debug[0]":"Gyro 1 [roll]","debug[1]":"Gyro 1 [pitch]","debug[2]":"Gyro 2 [roll]","debug[3]":"Gyro 2 [pitch]"},DSHOT_RPM_ERRORS:{"debug[all]":"DSHOT RPM Error","debug[0]":"DSHOT RPM Error [1]","debug[1]":"DSHOT RPM Error [2]","debug[2]":"DSHOT RPM Error [3]","debug[3]":"DSHOT RPM Error [4]"},CRSF_LINK_STATISTICS_UPLINK:{"debug[all]":"CRSF Stats Uplink","debug[0]":"Uplink RSSI 1","debug[1]":"Uplink RSSI 2","debug[2]":"Uplink Link Quality","debug[3]":"RF Mode"},CRSF_LINK_STATISTICS_PWR:{"debug[all]":"CRSF Stats Power","debug[0]":"Antenna","debug[1]":"SNR","debug[2]":"TX Power","debug[3]":"Not Used"},CRSF_LINK_STATISTICS_DOWN:{"debug[all]":"CRSF Stats Downlink","debug[0]":"Downlink RSSI","debug[1]":"Downlink Link Quality","debug[2]":"Downlink SNR","debug[3]":"Not Used"},BARO:{"debug[all]":"Debug Barometer","debug[0]":"Baro State","debug[1]":"Baro Temperature","debug[2]":"Baro Pressure","debug[3]":"Baro Pressure Sum"},GPS_RESCUE_THROTTLE_PID:{"debug[all]":"GPS Rescue Throttle PID","debug[0]":"Throttle P","debug[1]":"Throttle I","debug[2]":"Throttle D","debug[3]":"Z Velocity"},DYN_IDLE:{"debug[all]":"Dyn Idle","debug[0]":"Motor Range Min Inc","debug[1]":"Target RPS Change Rate","debug[2]":"Error","debug[3]":"Min RPS"},FF_LIMIT:{"debug[all]":"FF Limit","debug[0]":"FF [Roll]","debug[1]":"FF [Pitch]","debug[2]":"FF Final [Roll]","debug[3]":"Not Used"},FF_INTERPOLATED:{"debug[all]":"FF Interpolated","debug[0]":"Setpoint Delta Impl [Roll]","debug[1]":"Boost Amount","debug[2]":"Boost Amount Clip [Roll]","debug[3]":"Clip"},RTH:{"debug[all]":"RTH","debug[0]":"Rescue Throttle","debug[1]":"Rescue Angle","debug[2]":"Altitude Adjustment","debug[3]":"Rescue State"}};function Te(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Oe=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"graphs",void 0),Ce(this,"listeners",void 0),Ce(this,"selectedFieldName",null),Ce(this,"selectedGraphIndex",0),Ce(this,"selectedFieldIndex",0),Ce(this,"highlightGraphIndex",null),Ce(this,"highlightFieldIndex",null),this.graphs=null!=t?t:[],this.listeners=[]}var t,r,a;return t=e,a=[{key:"getDefaultSmoothingForField",value:function(e,t){try{return t.match(/^motor(Raw)?\[/)||t.match(/^servo\[/)?5e3:t.match(/^gyroADC.*\[/)||t.match(/^accSmooth\[/)||t.match(/^axis.+\[/)?3e3:0}catch(e){return 0}}},{key:"getDefaultCurveForField",value:function(e,t){var r=e.getSysConfig(),a=function(t){switch(r.rates_type){case ye.indexOf("ACTUAL"):case ye.indexOf("QUICK"):return Math.max(10*r.rates[0]*t,10*r.rates[1]*t,10*r.rates[2]*t);default:return Math.max(e.rcCommandRawToDegreesPerSecond(500,0)*t,e.rcCommandRawToDegreesPerSecond(500,1)*t,e.rcCommandRawToDegreesPerSecond(500,2)*t)}},n=function(){var t=e.getStats(),r=Number.MAX_VALUE,a=Number.MIN_VALUE;for(var n in arguments){var i=e.getMainFieldIndexByName(arguments[n]),s=void 0!==i&&t.field[i];s&&(r=Math.min(r,s.min),a=Math.max(a,s.max))}return r!=Number.MAX_VALUE&&a!=Number.MIN_VALUE?{min:r,max:a}:{min:-500,max:500}},i=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=n.apply(null,t);return{offset:-(a.max+a.min)/2,power:1,inputRange:Math.max((a.max-a.min)/2,1),outputRange:1}},s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=n.apply(null,t);return{offset:0,power:1,inputRange:Math.max(Math.max(Math.abs(a.max),Math.abs(a.min)),1),outputRange:1}},o=1.1;try{if(t.match(/^motor\[/))return{offset:e.isDigitalProtocol()?-1047.5:-(r.minthrottle+(r.maxthrottle-r.minthrottle)/2),power:1,inputRange:e.isDigitalProtocol()?999.5:(r.maxthrottle-r.minthrottle)/2,outputRange:1};if(t.match(/^motorLegacy\[/))return{offset:-(r.motorOutput[1]+r.motorOutput[0])/2,power:1,inputRange:(r.motorOutput[1]-r.motorOutput[0])/2,outputRange:1};if(t.match(/^servo\[/))return{offset:-1500,power:1,inputRange:500,outputRange:1};if(t.match(/^accSmooth\[/))return{offset:0,power:.5,inputRange:16*r.acc_1G,outputRange:1};if("rcCommands[3]"==t)return{offset:-50,power:1,inputRange:50,outputRange:1};if(t.match(/^axisError\[/)||t.match(/^rcCommands\[/)||t.match(/^gyroADC\[/))return{offset:0,power:.25,inputRange:a(o),outputRange:1};if(t.match(/^axis.+\[/))return{offset:0,power:.3,inputRange:1e3,outputRange:1};if("rcCommand[3]"==t)return{offset:-1500,power:1,inputRange:500,outputRange:1};if(t.match(/^rcCommand\[/))return{offset:0,power:.25,inputRange:550,outputRange:1};if(t.match(/^sonar.*/))return{offset:-200,power:1,inputRange:200,outputRange:1};if(t.match(/^rssi.*/))return{offset:-512,power:1,inputRange:512,outputRange:1};if(t.match(/^debug.*/)&&null!=r.debug_mode)switch(fe[r.debug_mode]){case"CYCLETIME":return"debug[1]"===t?{offset:-50,power:1,inputRange:50,outputRange:1}:{offset:-1e3,power:1,inputRange:1e3,outputRange:1};case"PIDLOOP":return{offset:-250,power:1,inputRange:250,outputRange:1};case"GYRO":case"GYRO_FILTERED":case"GYRO_SCALED":case"DUAL_GYRO":case"DUAL_GYRO_COMBINED":case"DUAL_GYRO_DIFF":case"DUAL_GYRO_RAW":case"NOTCH":case"AC_CORRECTION":case"AC_ERROR":case"ANGLERATE":return{offset:0,power:.25,inputRange:a(o),outputRange:1};case"ACCELEROMETER":return{offset:0,power:.5,inputRange:16*r.acc_1G,outputRange:1};case"MIXER":return{offset:-(r.motorOutput[1]+r.motorOutput[0])/2,power:1,inputRange:(r.motorOutput[1]-r.motorOutput[0])/2,outputRange:1};case"BATTERY":return"debug[0]"===t?{offset:-2048,power:1,inputRange:2048,outputRange:1}:{offset:-130,power:1,inputRange:130,outputRange:1};case"RC_INTERPOLATION":switch(t){case"debug[0]":case"debug[3]":return s(t)}break;case"RC_SMOOTHING":switch(t){case"debug[0]":return{offset:0,power:.25,inputRange:550,outputRange:1};case"debug[1]":case"debug[2]":return s("debug[1]","debug[2]")}break;case"RC_SMOOTHING_RATE":switch(t){case"debug[0]":case"debug[2]":return i("debug[0]","debug[2]")}break;case"FFT":switch(t){case"debug[0]":case"debug[1]":case"debug[2]":return{offset:0,power:.25,inputRange:a(o),outputRange:1}}break;case"FFT_FREQ":switch(t){case"debug[0]":case"debug[1]":return i("debug[0]","debug[1]");case"debug[2]":case"debug[3]":return{offset:0,power:.25,inputRange:a(o),outputRange:1}}break;case"DYN_LPF":switch(t){case"debug[1]":case"debug[2]":return i("debug[1]","debug[2]");case"debug[0]":case"debug[3]":return{offset:0,power:.25,inputRange:a(o),outputRange:1}}break;case"FFT_TIME":return{offset:0,power:1,inputRange:100,outputRange:1};case"ESC_SENSOR_RPM":case"DSHOT_RPM_TELEMETRY":case"RPM_FILTER":return i("debug[0]","debug[1]","debug[2]","debug[3]");case"D_MIN":switch(t){case"debug[0]":case"debug[1]":return i("debug[0]","debug[1]");case"debug[2]":case"debug[3]":return i("debug[2]","debug[3]")}break;case"ITERM_RELAX":switch(t){case"debug[2]":case"debug[3]":return s(t)}}return i(t)}catch(e){return console.warn(e),{offset:0,power:1,inputRange:500,outputRange:1}}}}],(r=[{key:"notifyListeners",value:function(){for(var e=0;e<this.listeners.length;e++)this.listeners[e](this)}},{key:"getGraphs",value:function(){return this.graphs}},{key:"setGraphs",value:function(e){this.graphs=e,this.notifyListeners()}},{key:"addListener",value:function(e){this.listeners.push(e)}}])&&Te(t.prototype,r),a&&Te(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ae(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||De(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){if(e){if("string"==typeof e)return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(e,t):void 0}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Le(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pe=[0,1,2],Ne=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),we(this,"logIndex",0),we(this,"logIndexes",void 0),we(this,"parser",void 0),we(this,"iframeDirectory",void 0),we(this,"numCells",0),we(this,"numMotors",0),we(this,"fieldNames",[]),we(this,"fieldNameToIndex",{}),we(this,"fieldPresenter",be),we(this,"_allChunks",null),we(this,"_eventNeedsTimestamp",[]),this.logIndexes=new _e(t),this.parser=new h(t)}var t,r,a;return t=e,r=[{key:"debugModes",get:function(){return this.parser.debugModes}},{key:"flightLogFlightModeNames",get:function(){return this.parser.flightLogFlightModeNames}},{key:"getMainFieldCount",value:function(){return this.fieldNames.length}},{key:"getMainFieldNames",value:function(){return this.fieldNames}},{key:"getLogError",value:function(e){return this.logIndexes.getIntraframeDirectory(e).error}},{key:"_getRawStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e?this.iframeDirectory.stats:this.logIndexes.getIntraframeDirectory(e).stats}},{key:"getStats",value:function(e){var t=this._getRawStats(e);return t.frame.S?t.field=t.frame.I.field.concat(t.frame.S.field):t.field=t.frame.I.field,t}},{key:"_getTimeStats",value:function(e){return this._getRawStats(e).frame.I.field[p]}},{key:"getMinTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._getTimeStats(e).min}},{key:"getMaxTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this._getTimeStats(e).max}},{key:"getSysConfig",value:function(){return this.parser.sysConfig}},{key:"getLogCount",value:function(){return this.logIndexes.getLogCount()}},{key:"getActivitySummary",value:function(){var e=this.logIndexes.getIntraframeDirectory(this.logIndex);return{times:e.times,avgThrottle:e.avgThrottle,hasEvent:e.hasEvent}}},{key:"getMainFieldIndexByName",value:function(e){return this.fieldNameToIndex[e]}},{key:"getMainFieldIndexes",value:function(){return this.fieldNameToIndex}},{key:"getSmoothedFrameAtTime",value:function(e){var t;return null===(t=this.getFrameAtTime(e))||void 0===t?void 0:t.current}},{key:"getFrameAtTime",value:function(e){var t=this.getSmoothedChunksInTimeRange(e,e)[0];if(t){var r=function(e,t){for(var r=0,a=e.length;r<a;){var n=Math.floor((r+a)/2);e[n][p]<=t?r=n+1:a=n}return r}(t.frames,e);return{previous:r>=2?t.frames[r-2]:null,current:r>=1?t.frames[r-1]:null,next:t.frames[r]}}}},{key:"_buildFieldNames",value:function(){var e,t,r,a=this;if(this.fieldNames=this.parser.frameDefs.I.name.slice(0),this.parser.frameDefs.S)for(var n=0;n<this.parser.frameDefs.S.name.length;n++)this.fieldNames.push(this.parser.frameDefs.S.name[n]);if(this.isFieldDisabled().PID||(e=this.fieldNames).push.apply(e,Ae(Pe.map((function(e){return"axisSum[".concat(e,"]")})))),this.isFieldDisabled().SETPOINT||(t=this.fieldNames).push.apply(t,Ae([0,1,2,3].map((function(e){return"rcCommands[".concat(e,"]")})))),this.isFieldDisabled().GYRO||this.isFieldDisabled().PID||(r=this.fieldNames).push.apply(r,Ae(Pe.map((function(e){return"axisError[".concat(e,"]")})))),!this.isFieldDisabled().MOTORS)for(var i=function(e){if(!a.fieldNames.find((function(t){return t==="motor[".concat(e,"]")})))return"break";a.fieldNames.push("motorLegacy[".concat(e,"]"))},s=0;s<8&&"break"!==i(s);s++);this.fieldNameToIndex={};for(var o=0;o<this.fieldNames.length;o++)this.fieldNameToIndex[this.fieldNames[o]]=o}},{key:"_estimateNumMotors",value:function(){for(var e=0,t=0;t<8;t++)void 0!==this.getMainFieldIndexByName("motor[".concat(t,"]"))&&e++;this.numMotors=e}},{key:"_estimateNumCells",value:function(){var e=this.getSysConfig();if(this.fieldNameToIndex.vbatLatest){var t;t=te(e,"3.1.0","2.0.0")?e.vbatref:this.vbatADCToMillivolts(e.vbatref)/100;for(var r=1;r<8&&t>=r*e.vbatmaxcellvoltage;r++);this.numCells=r}else this.numCells=0}},{key:"getNumCellsEstimate",value:function(){return this.numCells}},{key:"getNumMotors",value:function(){return this.numMotors}},{key:"allChunks",get:function(){if(!this._allChunks){for(var e=[],t=0;t<this.iframeDirectory.offsets.length;t++){var r=this._getChunk(t);e.push(r)}this._injectComputedFields(e,e),this._allChunks=e,this._addMissingEventTimes(this._allChunks)}return this._allChunks}},{key:"_getChunksInIndexRange",value:function(e,t){return e=Math.max(0,e),(t=Math.min(this.iframeDirectory.offsets.length,t))<e?[]:this.allChunks.slice(e,t+1)}},{key:"_getChunk",value:function(e){var t,r=this,a=this.iframeDirectory.offsets[e];t=e+1<this.iframeDirectory.offsets.length?this.iframeDirectory.offsets[e+1]:this.logIndexes.getLogBeginOffset(this.logIndex+1);var n={index:e,frames:[],gapStartsHere:{},events:[]},i=this.parser.frameDefs.S?this.parser.frameDefs.S.count:0,s=this.parser.frameDefs.S?this.iframeDirectory.initialSlow[e].slice(0):[],o=0;return this.parser.onFrameReady=function(e,t,a,l,u){if(e||"G"==a)switch(a){case"P":case"I":var c=t.length+i+20,d=new Array(c);n.frames.push(d);for(var f=0;f<t.length;f++)d[f]=t[f];for(f=0;f<i;f++)d[f+t.length]=void 0===s[f]?null:s[f];o++;break;case"E":var h=t;h.event==ie.LOGGING_RESUME&&(n.gapStartsHere[o-1]=!0),h.time||r._eventNeedsTimestamp.push({chunkIndex:n.index,event:h}),n.events.push(h);break;case"S":for(f=0;f<t.length;f++)s[f]=t[f]}else n.gapStartsHere[o-1]=!0},this.parser.resetDataState(),this.parser.parseLogData(a,t),n}},{key:"getChunksInTimeRange",value:function(e,t){var r=re(this.iframeDirectory.times,e),a=re(this.iframeDirectory.times,t);return this._getChunksInIndexRange(r,a)}},{key:"_injectComputedFields",value:function(e,t){var r,a,n=this,i=Pe.map((function(e){return n.fieldNameToIndex["gyroADC[".concat(e,"]")]})),s=[0,1,2,3].map((function(e){return n.fieldNameToIndex["rcCommand[".concat(e,"]")]})),o=[0,1,2,3].map((function(e){return n.fieldNameToIndex["setpoint[".concat(e,"]")]})),l=[["axisP[0]","axisI[0]","axisD[0]","axisF[0]"],["axisP[1]","axisI[1]","axisD[1]","axisF[1]"],["axisP[2]","axisI[2]","axisD[2]","axisF[2]"]].map((function(e){return e.map((function(e){return n.fieldNameToIndex[e]}))})),u=[0,1,2,3,4,5,6,7].map((function(e){return n.fieldNameToIndex["motor[".concat(e,"]")]})),c=this.getSysConfig();if(0!==t.length){for(i[0]||(i=null),s[0]||(s=null),o[0]||(o=null),l[0]||(l=null),u[0]||(u=null),r=0,a=0;e[r].index<t[a].index;)r++;for(;a<t.length;r++,a++){var d=t[a],f=e[r];if(!d.hasAdditionalFields){d.hasAdditionalFields=!0;for(var h=0;h<f.frames.length;h++)this._injectComputedFieldsToFrame(f,h,d,i,c,l,o,s,u)}}}}},{key:"_injectComputedFieldsToFrame",value:function(e,t,r,a,n,i,s,o,l){var u=e.frames[t],c=r.frames[t],d=c.length-20;if(i)for(var f=0;f<3;f++){var h=(void 0!==i[f][0]?u[i[f][0]]:0)+(void 0!==i[f][1]?u[i[f][1]]:0)+(void 0!==i[f][2]?u[i[f][2]]:0)+(void 0!==i[f][3]?u[i[f][3]]:0),m=f<se.YAW?n.pidSumLimit:n.pidSumLimitYaw;null!=m&&m>0&&(h=H(h,-m,m)),c[d++]=h}var g=d;if(3==n.firmwareType&&ee(n.firmwareVersion,"4.0.0")){for(var p=0;p<=se.YAW;p++)c[d++]=u[s[p]];c[d++]=u[s[se.YAW+1]]/10}else{for(var y=0;y<=se.YAW;y++)c[d++]=void 0!==o[y]?this.rcCommandRawToDegreesPerSecond(u[o[y]],y):0;c[d++]=void 0!==o[se.YAW+1]?this.rcCommandRawToThrottle(u[o[se.YAW+1]]):0}if(i&&a)for(var R=0;R<3;R++){var E=void 0!==a[R]?this.gyroRawToDegreesPerSecond(u[a[R]]):0;c[d++]=c[g+R]-E}if(l)for(var _=0;_<this.numMotors;_++)c[d++]=u[l[_]];c.splice(d)}},{key:"_addMissingEventTimes",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=De(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){o=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(o)throw i}}}}(this._eventNeedsTimestamp);try{for(r.s();!(t=r.n()).done;){var a=t.value,n=a.chunkIndex,i=a.event,s=void 0;if(n+1<e.length)s=e[n+1].frames[0][p];else{var o=e[e.length-1];s=o.frames[o.frames.length-1][p]}i.time=s}}catch(e){r.e(e)}finally{r.f()}this._eventNeedsTimestamp=[]}},{key:"getSmoothedChunksInTimeRange",value:function(e,t){var r=re(this.iframeDirectory.times,e),a=function(e,t){for(var r,a=0,n=e.length,i=e.length-1;a<n;){if(e[r=Math.floor((a+n)/2)]===t)return r;e[r]>t?(n=r,i=r):a=r+1}return i}(this.iframeDirectory.times,t);return this._getChunksInIndexRange(r,a)}},{key:"openLog",value:function(e){return!this.getLogError(e)&&(this.logIndex=e,this.iframeDirectory=this.logIndexes.getIntraframeDirectory(e),this.parser.parseHeader(this.logIndexes.getLogBeginOffset(e),this.logIndexes.getLogBeginOffset(e+1)),this._allChunks=null,this._buildFieldNames(),this._estimateNumMotors(),this._estimateNumCells(),!0)}},{key:"accRawToGs",value:function(e){return e/this.getSysConfig().acc_1G}},{key:"gyroRawToDegreesPerSecond",value:function(e){return 1e6*this.getSysConfig().gyroScale/(Math.PI/180)*e}},{key:"rcCommandRawToDegreesPerSecond",value:function(e,t){var r=this.getSysConfig();return te(r,"3.0.0","2.0.0")?function(e,t){var a=t/500,n=Math.abs(a);if(r.rc_expo[e]){var i=r.rc_expo[e]/100;a=a*Math.pow(n,3)*i+a*(1-i)}var s=r.rc_rates[e]/100;s>2&&(s+=14.54*(s-2));var o=200*s*a;r.rates[e]&&(o*=1/H(1-n*(r.rates[e]/100),.01,1));var l=r.rate_limits[e];return 0==r.pidController||null==l?H(4.1*o,-8190,8190)>>2:H(o,-1*l,l)}(t,e):0}},{key:"rcCommandRawToThrottle",value:function(e){return e=(e-this.getSysConfig().minthrottle)/(this.getSysConfig().maxthrottle-this.getSysConfig().minthrottle)*100,Math.min(Math.max(e,0),100)}},{key:"rcMotorRawToPctEffective",value:function(e){return e=(e-this.getSysConfig().motorOutput[0])/(this.getSysConfig().motorOutput[1]-this.getSysConfig().motorOutput[0])*100,Math.min(Math.max(e,0),100)}},{key:"rcMotorRawToPctPhysical",value:function(e){var t;if(this.isDigitalProtocol())t=(e-48)/ne*100;else{var r=this.getSysConfig().maxthrottle,a=this.getSysConfig().minthrottle;t=(e-a)/(r-a)*100}return Math.min(Math.max(t,0),100)}},{key:"isDigitalProtocol",value:function(){switch(de[this.getSysConfig().fast_pwm_protocol]){case"PWM":case"ONESHOT125":case"ONESHOT42":case"MULTISHOT":case"BRUSHED":return!1;default:return!0}}},{key:"getDefaultCurveForField",value:function(e){return Oe.getDefaultCurveForField(this,e)}},{key:"getDefaultSmoothingForField",value:function(e){return Oe.getDefaultSmoothingForField(this,e)}},{key:"getPIDPercentage",value:function(e){return e/10}},{key:"getReferenceVoltageMillivolts",value:function(){return 3==this.getSysConfig().firmwareType&&ee(this.getSysConfig().firmwareVersion,"4.0.0")?10*this.getSysConfig().vbatref:3==this.getSysConfig().firmwareType&&ee(this.getSysConfig().firmwareVersion,"3.1.0")||2==this.getSysConfig().firmwareType&&ee(this.getSysConfig().firmwareVersion,"2.0.0")?100*this.getSysConfig().vbatref:this.vbatADCToMillivolts(this.getSysConfig().vbatref)}},{key:"vbatADCToMillivolts",value:function(e){return 33*e*10*this.getSysConfig().vbatscale/4095}},{key:"amperageADCToMillivolts",value:function(e){var t=33*e*100/4095;return 1e4*(t-=this.getSysConfig().currentMeterOffset)/this.getSysConfig().currentMeterScale}},{key:"getFlightMode",value:function(e){return{Arm:0!=(1&e),Angle:0!=(2&e),Horizon:0!=(4&e),Baro:0!=(8&e),AntiGravity:0!=(16&e),Headfree:0!=(32&e),HeadAdj:0!=(64&e),CamStab:0!=(128&e),CamTrig:0!=(256&e),GPSHome:0!=(512&e),GPSHold:0!=(1024&e),Passthrough:0!=(2048&e),Beeper:0!=(4096&e),LEDMax:0!=(8192&e),LEDLow:0!=(16384&e),LLights:0!=(32768&e),Calib:0!=(65536&e),GOV:0!=(e&1<<17),OSD:0!=(e&1<<18),Telemetry:0!=(e&1<<19),GTune:0!=(e&1<<20),Sonar:0!=(e&1<<21),Servo1:0!=(e&1<<22),Servo2:0!=(e&1<<23),Servo3:0!=(e&1<<24),Blackbox:0!=(e&1<<25),Failsafe:0!=(e&1<<26),Airmode:0!=(e&1<<27),SuperExpo:0!=(e&1<<28),_3DDisableSwitch:0!=(e&1<<29),CheckboxItemCount:0!=(e&1<<30)}}},{key:"getFeatures",value:function(e){return{RX_PPM:0!=(1&e),VBAT:0!=(2&e),INFLIGHT_ACC_CAL:0!=(4&e),RX_SERIAL:0!=(8&e),MOTOR_STOP:0!=(16&e),SERVO_TILT:0!=(32&e),SOFTSERIAL:0!=(64&e),GPS:0!=(128&e),FAILSAFE:0!=(256&e),SONAR:0!=(512&e),TELEMETRY:0!=(1024&e),CURRENT_METER:0!=(2048&e),_3D:0!=(4096&e),RX_PARALLEL_PWM:0!=(8192&e),RX_MSP:0!=(16384&e),RSSI_ADC:0!=(32768&e),LED_STRIP:0!=(65536&e),DISPLAY:0!=(e&1<<17),ONESHOT125:0!=(e&1<<18),BLACKBOX:0!=(e&1<<19),CHANNEL_FORWARDING:0!=(e&1<<20),TRANSPONDER:0!=(e&1<<21),AIRMODE:0!=(e&1<<22),SUPEREXPO_RATES:0!=(e&1<<23),ANTI_GRAVITY:0!=(e&1<<24)}}},{key:"isFieldDisabled",value:function(){var e=this.getSysConfig().fields_disabled_mask;return{PID:0!=(1&e),RC_COMMANDS:0!=(2&e),SETPOINT:0!=(4&e),BATTERY:0!=(8&e),MAGNETOMETER:0!=(16&e),ALTITUDE:0!=(32&e),RSSI:0!=(64&e),GYRO:0!=(128&e),ACC:0!=(256&e),DEBUG:0!=(512&e),MOTORS:0!=(1024&e),GPS:0!=(2048&e)}}}],r&&Le(t.prototype,r),a&&Le(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Me(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,a;return t=e,(r=[{key:"getParsedData",value:function(e){return new Ne(e)}}])&&Me(t.prototype,r),a&&Me(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();globalThis.BfLogDataParserPlugin=xe})(),a})()));